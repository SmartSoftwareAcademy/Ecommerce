{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/views/pages/pos/index.vue?bc56","webpack:///./src/views/pages/pos/poscart.vue?831c","webpack:///src/views/pages/pos/poscart.vue","webpack:///./src/views/pages/pos/poscart.vue?4c1d","webpack:///./src/views/pages/pos/poscart.vue","webpack:///src/views/pages/pos/index.vue","webpack:///./src/views/pages/pos/index.vue?981c","webpack:///./src/views/pages/pos/index.vue","webpack:///./src/views/pages/pos/poscart.vue?3e2b","webpack:///./src/components/page-header.vue?6fb6","webpack:///src/components/page-header.vue","webpack:///./src/components/page-header.vue?570e","webpack:///./src/components/page-header.vue","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/pages/pos/printReceipt.vue?5457","webpack:///./src/assets/audio/beep.mp3","webpack:///./src/assets/img/shop/mpesa.png","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/pages/pos/printReceipt.vue?d04e","webpack:///src/views/pages/pos/printReceipt.vue","webpack:///./src/views/pages/pos/printReceipt.vue?acf5","webpack:///./src/views/pages/pos/printReceipt.vue"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","render","_vm","_h","$createElement","_c","_self","attrs","title","items","staticRenderFns","staticClass","_v","directives","name","rawName","value","expression","domProps","on","$event","target","composing","searchText","applyFilter","_l","item","key","id","addToCart","product","images","image","class","Number","stock_level","reorder_level","_s","getFirstTwoWords","sku","size","unit","unit_symbol","_e","totalProducts","Math","ceil","perPage","handlePageChange","currentPage","model","callback","$$v","headers","cart","scopedSlots","_u","fn","ref","retail_price","$set","removeFromCart","index","total","toFixed","amountPaid","change","paymentMethod","_n","confirmPayment","modifiers","preventDefault","handleSubmit","editablePhoneNumber","PhoneNumber","placeOrder","receiptHeaders","paycode","submitsale","data","limit","offset","filter","products","filteredProducts","quantity","transactionCompleted","trstatus","beepsound","components","Receipt","computed","reduce","hiddenPhone","hiddenChars","substr","formattedPhoneNumber","test","replace","mounted","updatearrays","methods","firstTwoWords","formatProductLabel","generateTrCode","chars","charAt","floor","random","length","searchTextLower","toLowerCase","newPage","push","splice","formdata","FormData","forEach","append","alert","status","$bvModal","hide","toUpperCase","JSON","parse","sessionStorage","user","clearValues","component","props","type","default","Array","classof","TypeError","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","proto","forced","separator","call","undefined","thisNumberValue","fails","nativeToFixed","pow","x","acc","log","x2","FORCED","fractionDigits","e","z","j","k","number","fractDigits","sign","multiply","c","c2","divide","dataToString","s","t","slice","receiptNo","formatDate","formatTime","product_title","formatCurrency","subtotal","tax","$parent","$on","handlePrint","beforeUnmount","$off","printWindow","document","write","printContents","close","print"],"mappings":"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","file":"js/chunk-cba91712.d9d5d9c1.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Layout',[_c('PageHeader',{attrs:{\"title\":_vm.title,\"items\":_vm.items}}),_c('poscart')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"conatiner\"},[_c('v-card',{staticClass:\"border border-solid border-2 rounded-1 border-warning\"},[_c('v-card-title',[_vm._v(\"Point Of Sale\")]),_c('div',{staticClass:\"row m-2 p-2\"},[_c('div',{staticClass:\"col-lg-4\"},[_c('div',{staticClass:\"mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],staticClass:\"form-control mr-sm-2 d-inline-block\",attrs:{\"type\":\"search\",\"placeholder\":\"Search product by title,sku,serial,id,category..\",\"aria-label\":\"Search\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value},function($event){return _vm.applyFilter()}]}})])]),_c('div',{staticClass:\"col-lg-2\"},[_c('div',{staticClass:\"mb-3\"},[_c('button',{staticClass:\"btn btn-outline-warning my-2 my-sm-0 d-inline-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.applyFilter()}}},[_c('i',{staticClass:\"fa fa-sync\"}),_vm._v(\"Refresh \")])])]),_c('div',{staticClass:\"col-sm-2 float-end\"},[_c('span',{staticClass:\"p-2 rounded-1 bg-danger d-inline-block\"}),_c('span',{staticClass:\"d-inline-block text-danger p-2\"},[_vm._v(\"Stock alert!!\")])])]),_c('div',{staticClass:\"row m-2 overflow-scroll border border-2 border-light rounded\"},[_vm._l((_vm.filteredProducts),function(item){return _c('div',{key:item.id,staticClass:\"col-sm-2 p-2\"},[_c('a',{staticClass:\"bg-light\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.addToCart(item)}}},[_c('figure',[_c('img',{attrs:{\"src\":item.product.images[0].image,\"width\":200,\"height\":150,\"alt\":\"Product Image\"}}),_c('figcaption',[_c('span',{staticClass:\"badge badge-pill bg-secondary text-wrap\",class:{\n                  'bg-danger': Number(item.stock_level) < Number(item.reorder_level),\n                }},[_vm._v(_vm._s(_vm.getFirstTwoWords(item.product.title))+\" sku:\"+_vm._s(item.sku)+\" \"),(item.size !== null)?_c('span',{staticClass:\"badge badge-pill bg-warning\"},[_vm._v(_vm._s(item.size.size)+\" \"+_vm._s(item.size.unit.unit_symbol))]):_vm._e(),_vm._v(\" \"),_c('h5',{staticClass:\"badge badge-pill bg-warning\"},[_vm._v(\"QTY:\"+_vm._s(item.stock_level))])])])])])])}),_c('div',{staticClass:\"row mb-1\"},[(_vm.totalProducts > 1)?_c('v-pagination',{staticClass:\"bg-warning text-dark rounded-1\",attrs:{\"total-visible\":8,\"prev-text\":'Previous',\"next-text\":'Next',\"length\":Math.ceil(_vm.totalProducts / _vm.perPage)},on:{\"input\":function($event){return _vm.handlePageChange(_vm.currentPage)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1)],2),_c('v-card',[_c('v-card-title',[_vm._v(\"Tray\")]),_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.cart,\"item-key\":\"id\"},scopedSlots:_vm._u([{key:\"item.image\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('img',{attrs:{\"src\":item.product.images[0].image,\"height\":30}})]}},{key:\"item.title\",fn:function(ref){\n                var item = ref.item;\nreturn [_vm._v(_vm._s(item.product.title))]}},{key:\"item.retail_price\",fn:function(ref){\n                var item = ref.item;\nreturn [_vm._v(_vm._s(item.retail_price))]}},{key:\"item.quantity\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-text-field',{staticClass:\"w-25\",attrs:{\"type\":\"number\",\"min\":\"1\"},model:{value:(item.quantity),callback:function ($$v) {_vm.$set(item, \"quantity\", $$v)},expression:\"item.quantity\"}})]}},{key:\"item.actions\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeFromCart(item.index)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)]}}],null,true)})],1)],1),_c('v-card',[_c('v-card-text',[_c('div',{staticClass:\"float-end bg-light rounded-1 p-2\"},[_c('h3',[_vm._v(\" Total: KES \"),_c('strong',[_vm._v(_vm._s(_vm.total.toFixed(2)))])]),(_vm.amountPaid > 0)?_c('h4',[_vm._v(\" Change: KES \"),_c('strong',[_vm._v(_vm._s(_vm.change.toFixed(2)))])]):_vm._e()]),(_vm.paymentMethod === 'cash')?_c('div',[_c('h3',{staticClass:\"d-inline\"},[_vm._v(\"Tendered Amount:\")]),_c('v-text-field',{staticClass:\"d-inline-block form-input m-2\",attrs:{\"placeholder\":_vm.amountPaid},model:{value:(_vm.amountPaid),callback:function ($$v) {_vm.amountPaid=_vm._n($$v)},expression:\"amountPaid\"}}),_c('v-radio-group',{model:{value:(_vm.paymentMethod),callback:function ($$v) {_vm.paymentMethod=$$v},expression:\"paymentMethod\"}},[_c('v-radio',{attrs:{\"value\":\"cash\",\"label\":\"Cash\"}},[_vm._v(\"Cash\")]),_c('v-radio',{attrs:{\"value\":\"mpesa\",\"label\":\"M-Pesa\"}},[_vm._v(\"M-Pesa\")])],1)],1):_vm._e(),(_vm.paymentMethod === 'cash')?_c('v-btn',{staticClass:\"btn btn-warning\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.confirmPayment('completed')}}},[_vm._v(\"Complete Transaction\")]):_vm._e(),(_vm.paymentMethod === 'mpesa')?_c('v-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-mpesa\",modifiers:{\"modal-mpesa\":true}}],staticClass:\"btn btn-primary\"},[_vm._v(\"Confirm Payment\")]):_vm._e()],1)],1)],1),_c('b-modal',{attrs:{\"title\":\"Confirm Payment Details\",\"size\":\"lg\",\"id\":\"modal-confirmdetails\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('p',{staticClass:\"text-muted\"},[_vm._v(\" An M-Pesa stk push will be sent to your phone when you tap 'MAKE PAYMENT' button. Please confirm your pin on the pop-up screen to complete your order! \")]),_c('label',{staticClass:\"mr-4\",attrs:{\"for\":\"amount\"}},[_vm._v(\"Amount To Be Paid:(KES)\")]),_c('span',{staticClass:\"d-inline float-right mt-0 pt-0 mb-2\"},[_c('img',{attrs:{\"src\":require('@/assets/img/shop/mpesa.png'),\"width\":\"90\",\"height\":\"50\"}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cart.total),expression:\"cart.total\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"amount\",\"disabled\":\"\"},domProps:{\"value\":(_vm.cart.total)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.cart, \"total\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"phone\"}},[_vm._v(\"Phone Number:\")]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.PhoneNumber),expression:\"PhoneNumber\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"phone\",\"disabled\":!_vm.editablePhoneNumber},domProps:{\"value\":(_vm.PhoneNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.PhoneNumber=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.editablePhoneNumber = true}}},[_vm._v(\" Edit \")])])])]),_c('button',{staticClass:\"btn btn-primary text-white mt-2 text-uppercase\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.placeOrder()}}},[_vm._v(\" make payment \")])])]),_c('b-modal',{ref:\"modal\",attrs:{\"id\":\"modal-mpesa\",\"title\":\"Confirm Payment\",\"size\":\"lg\"}},[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('p',{staticClass:\"text-muted\"},[_vm._v(\" An M-Pesa stk push will be sent to your phone when you tap 'MAKE PAYMENT' button. Please confirm your pin on the pop-up screen to complete your order! \")]),_c('label',{staticClass:\"mr-4\",attrs:{\"for\":\"amount\"}},[_vm._v(\"Amount:(KES)\")]),_c('span',{staticClass:\"d-inline float-right mt-0 pt-0 mb-2\"},[_c('img',{attrs:{\"src\":require('@/assets/img/shop/mpesa.png'),\"width\":\"90\",\"height\":\"50\"}})]),_c('span',{staticClass:\"form-control\",attrs:{\"id\":\"amount\"}},[_vm._v(_vm._s(_vm.total.toFixed(2)))])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('b-form-group',{attrs:{\"label\":\"Amount\",\"label-for\":\"amountpaid\",\"invalid-feedback\":\"Amount paid is required\"}},[_c('b-form-input',{attrs:{\"id\":\"amountpaid\",\"required\":\"\"},model:{value:(_vm.PhoneNumber),callback:function ($$v) {_vm.PhoneNumber=$$v},expression:\"PhoneNumber\"}})],1)],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6\"},[_c('b-button',{attrs:{\"typ\":\"submit\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.confirmPayment('pending')}}},[_vm._v(\"Request Payment \")])],1),_c('div',{staticClass:\"col-lg-6\"},[_c('b-button',{attrs:{\"typ\":\"submit\",\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.confirmPayment('pending')}}},[_vm._v(\"Save as Pending \")])],1)])])]),_c('Receipt',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"items\":_vm.cart,\"headers\":_vm.receiptHeaders,\"total\":Number(_vm.total.toFixed(2)),\"paymentMethod\":_vm.paymentMethod,\"receiptNo\":_vm.paycode},on:{\"printReceipt\":_vm.submitsale}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"conatiner\">\r\n    <v-card class=\"border border-solid border-2 rounded-1 border-warning\">\r\n      <v-card-title>Point Of Sale</v-card-title>\r\n      <div class=\"row m-2 p-2\">\r\n        <div class=\"col-lg-4\">\r\n          <!-- <div id=\"interactive\" class=\"viewport\"><button @click=\"beepOnScan()\">play</button></div> -->\r\n          <div class=\"mb-3\">\r\n            <input\r\n              class=\"form-control mr-sm-2 d-inline-block\"\r\n              type=\"search\"\r\n              placeholder=\"Search product by title,sku,serial,id,category..\"\r\n              aria-label=\"Search\"\r\n              v-model=\"searchText\"\r\n              @input=\"applyFilter()\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-2\">\r\n          <div class=\"mb-3\">\r\n            <button\r\n              class=\"btn btn-outline-warning my-2 my-sm-0 d-inline-block\"\r\n              type=\"button\"\r\n              @click=\"applyFilter()\"\r\n            >\r\n              <i class=\"fa fa-sync\"></i>Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-2 float-end\">\r\n          <span class=\"p-2 rounded-1 bg-danger d-inline-block\"></span>\r\n          <span class=\"d-inline-block text-danger p-2\">Stock alert!!</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-2 overflow-scroll border border-2 border-light rounded\">\r\n        <div class=\"col-sm-2 p-2\" v-for=\"item in filteredProducts\" :key=\"item.id\">\r\n          <a @click=\"addToCart(item)\" class=\"bg-light\" href=\"#\">\r\n            <figure>\r\n              <img\r\n                :src=\"item.product.images[0].image\"\r\n                :width=\"200\"\r\n                :height=\"150\"\r\n                alt=\"Product Image\"\r\n              />\r\n              <figcaption>\r\n                <span\r\n                  class=\"badge badge-pill bg-secondary text-wrap\"\r\n                  :class=\"{\r\n                    'bg-danger': Number(item.stock_level) < Number(item.reorder_level),\r\n                  }\"\r\n                  >{{ getFirstTwoWords(item.product.title) }} sku:{{ item.sku }}\r\n                  <span class=\"badge badge-pill bg-warning\" v-if=\"item.size !== null\"\r\n                    >{{ item.size.size }}&nbsp;{{ item.size.unit.unit_symbol }}</span\r\n                  >&nbsp;\r\n                  <h5 class=\"badge badge-pill bg-warning\">QTY:{{ item.stock_level }}</h5>\r\n                </span>\r\n              </figcaption>\r\n            </figure>\r\n          </a>\r\n        </div>\r\n        <div class=\"row mb-1\">\r\n          <v-pagination\r\n            v-if=\"totalProducts > 1\"\r\n            v-model=\"currentPage\"\r\n            :total-visible=\"8\"\r\n            :prev-text=\"'Previous'\"\r\n            :next-text=\"'Next'\"\r\n            :length=\"Math.ceil(totalProducts / perPage)\"\r\n            @input=\"handlePageChange(currentPage)\"\r\n            class=\"bg-warning text-dark rounded-1\"\r\n          ></v-pagination>\r\n        </div>\r\n      </div>\r\n      <v-card>\r\n        <v-card-title>Tray</v-card-title>\r\n        <v-card-text>\r\n          <v-data-table :headers=\"headers\" :items=\"cart\" item-key=\"id\">\r\n            <template v-slot:[`item.image`]=\"{ item }\"\r\n              ><img :src=\"item.product.images[0].image\" :height=\"30\"\r\n            /></template>\r\n            <template v-slot:[`item.title`]=\"{ item }\">{{ item.product.title }}</template>\r\n            <template v-slot:[`item.retail_price`]=\"{ item }\">{{\r\n              item.retail_price\r\n            }}</template>\r\n            <template v-slot:[`item.quantity`]=\"{ item }\">\r\n              <v-text-field v-model=\"item.quantity\" type=\"number\" min=\"1\" class=\"w-25\" />\r\n            </template>\r\n            <template v-slot:[`item.actions`]=\"{ item }\">\r\n              <v-btn @click=\"removeFromCart(item.index)\" icon\r\n                ><v-icon>mdi-delete</v-icon></v-btn\r\n              >\r\n            </template>\r\n          </v-data-table>\r\n        </v-card-text>\r\n      </v-card>\r\n      <v-card>\r\n        <v-card-text>\r\n          <div class=\"float-end bg-light rounded-1 p-2\">\r\n            <h3>\r\n              Total: KES <strong>{{ total.toFixed(2) }}</strong>\r\n            </h3>\r\n            <h4 v-if=\"amountPaid > 0\">\r\n              Change: KES <strong>{{ change.toFixed(2) }}</strong>\r\n            </h4>\r\n          </div>\r\n          <div v-if=\"paymentMethod === 'cash'\">\r\n            <h3 class=\"d-inline\">Tendered Amount:</h3>\r\n            <v-text-field\r\n              v-model.number=\"amountPaid\"\r\n              :placeholder=\"amountPaid\"\r\n              class=\"d-inline-block form-input m-2\"\r\n            ></v-text-field>\r\n            <v-radio-group v-model=\"paymentMethod\">\r\n              <v-radio value=\"cash\" label=\"Cash\">Cash</v-radio>\r\n              <v-radio value=\"mpesa\" label=\"M-Pesa\">M-Pesa</v-radio>\r\n            </v-radio-group>\r\n          </div>\r\n          <v-btn\r\n            class=\"btn btn-warning\"\r\n            outlined\r\n            v-if=\"paymentMethod === 'cash'\"\r\n            @click=\"confirmPayment('completed')\"\r\n            >Complete Transaction</v-btn\r\n          >\r\n          <v-btn\r\n            v-b-modal.modal-mpesa\r\n            class=\"btn btn-primary\"\r\n            v-if=\"paymentMethod === 'mpesa'\"\r\n            >Confirm Payment</v-btn\r\n          >\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-card>\r\n    <!--modal mpesa payment-->\r\n    <b-modal title=\"Confirm Payment Details\" size=\"lg\" id=\"modal-confirmdetails\">\r\n      <form @submit.prevent=\"handleSubmit\">\r\n        <div class=\"form-group\">\r\n          <p class=\"text-muted\">\r\n            An M-Pesa stk push will be sent to your phone when you tap 'MAKE PAYMENT'\r\n            button. Please confirm your pin on the pop-up screen to complete your order!\r\n          </p>\r\n          <label for=\"amount\" class=\"mr-4\">Amount To Be Paid:(KES)</label>\r\n          <span class=\"d-inline float-right mt-0 pt-0 mb-2\">\r\n            <img :src=\"require('@/assets/img/shop/mpesa.png')\" width=\"90\" height=\"50\" />\r\n          </span>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"amount\"\r\n            v-model=\"cart.total\"\r\n            disabled\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"phone\">Phone Number:</label>\r\n          <div class=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"phone\"\r\n              v-model=\"PhoneNumber\"\r\n              :disabled=\"!editablePhoneNumber\"\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <button\r\n                class=\"btn btn-outline-secondary\"\r\n                type=\"button\"\r\n                @click=\"editablePhoneNumber = true\"\r\n              >\r\n                Edit\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-primary text-white mt-2 text-uppercase\"\r\n          @click=\"placeOrder()\"\r\n        >\r\n          make payment\r\n        </button>\r\n      </form>\r\n    </b-modal>\r\n    <b-modal id=\"modal-mpesa\" ref=\"modal\" title=\"Confirm Payment\" size=\"lg\">\r\n      <form ref=\"form\" @submit.prevent=\"handleSubmit\">\r\n        <div class=\"form-group\">\r\n          <p class=\"text-muted\">\r\n            An M-Pesa stk push will be sent to your phone when you tap 'MAKE PAYMENT'\r\n            button. Please confirm your pin on the pop-up screen to complete your order!\r\n          </p>\r\n          <label for=\"amount\" class=\"mr-4\">Amount:(KES)</label>\r\n          <span class=\"d-inline float-right mt-0 pt-0 mb-2\">\r\n            <img :src=\"require('@/assets/img/shop/mpesa.png')\" width=\"90\" height=\"50\" />\r\n          </span>\r\n          <span class=\"form-control\" id=\"amount\">{{ total.toFixed(2) }}</span>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-6\">\r\n            <b-form-group\r\n              label=\"Amount\"\r\n              label-for=\"amountpaid\"\r\n              invalid-feedback=\"Amount paid is required\"\r\n            >\r\n              <b-form-input id=\"amountpaid\" v-model=\"PhoneNumber\" required></b-form-input>\r\n            </b-form-group>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6\">\r\n            <b-button typ=\"submit\" @click=\"confirmPayment('pending')\" variant=\"success\"\r\n              >Request Payment\r\n            </b-button>\r\n          </div>\r\n          <div class=\"col-lg-6\">\r\n            <b-button typ=\"submit\" @click=\"confirmPayment('pending')\" variant=\"warning\"\r\n              >Save as Pending\r\n            </b-button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </b-modal>\r\n    <Receipt\r\n      :items=\"cart\"\r\n      :headers=\"receiptHeaders\"\r\n      :total=\"Number(total.toFixed(2))\"\r\n      :paymentMethod=\"paymentMethod\"\r\n      :receiptNo=\"paycode\"\r\n      @printReceipt=\"submitsale\"\r\n      v-show=\"false\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\n//import Multiselect from \"vue-multiselect\";\r\nimport \"vue-multiselect/dist/vue-multiselect.min.css\";\r\nimport Receipt from \"./printReceipt.vue\";\r\nimport axios from \"@/Axiosconfig.js\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  name: \"PosCart\",\r\n  data() {\r\n    return {\r\n      headers: [\r\n        { text: \"Image\", value: \"image\", sortable: true },\r\n        { text: \"Title\", value: \"title\", sortable: true },\r\n        { text: \"Price\", value: \"retail_price\", sortable: true },\r\n        { text: \"Quantity\", value: \"quantity\", sortable: true },\r\n        { text: \"Actions\", value: \"actions\", sortable: true },\r\n      ],\r\n      receiptHeaders: [\r\n        { text: \"Title\", value: \"title\", sortable: true },\r\n        { text: \"Price\", value: \"retail_price\", sortable: true },\r\n        { text: \"Quantity\", value: \"quantity\", sortable: true },\r\n      ],\r\n      currentPage: 1,\r\n      perPage: 12,\r\n      limit: 12,\r\n      offset: 0,\r\n      filter: \"\",\r\n      products: [],\r\n      filteredProducts: [],\r\n      totalProducts: 0,\r\n      searchText: \"\",\r\n      quantity: 1,\r\n      cart: [],\r\n      paymentMethod: \"cash\",\r\n      amountPaid: 0,\r\n      transactionCompleted: false,\r\n      paycode: \"NULL\",\r\n      trstatus: \"pending\",\r\n      editablePhoneNumber: false,\r\n      PhoneNumber: \"0743793901\",\r\n      beepsound: require(\"@/assets/audio/beep.mp3\"),\r\n    };\r\n  },\r\n  components: {\r\n    //Multiselect,\r\n    Receipt,\r\n  },\r\n  computed: {\r\n    total() {\r\n      return this.cart.reduce((acc, item) => acc + item.retail_price * item.quantity, 0);\r\n    },\r\n    change() {\r\n      return this.amountPaid - this.total;\r\n    },\r\n    hiddenPhone() {\r\n      // Replace the first 4 characters with x\r\n      const hiddenChars = this.PhoneNumber.substr(0, 4).replace(/./g, \"x\");\r\n      // Return the hidden text with the last 4 digits\r\n      return hiddenChars + \"-\" + this.PhoneNumber.substr(-4);\r\n    },\r\n    formattedPhoneNumber() {\r\n      // check if phone number starts with 0\r\n      if (/^0/.test(this.PhoneNumber)) {\r\n        // replace leading 0 with 254\r\n        return this.PhoneNumber.replace(/^0/, \"254\");\r\n      } else if (/^254/.test(this.PhoneNumber)) {\r\n        // phone number already starts with 254, so ignore\r\n        return this.PhoneNumber;\r\n      } else {\r\n        // phone number doesn't start with 0 or 254, so return as is\r\n        return this.PhoneNumber;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.updatearrays();\r\n  },\r\n\r\n  methods: {\r\n    getFirstTwoWords(str) {\r\n      // Split the sentence into an array of words\r\n      const words = str.split(\" \");\r\n      // Take the first two words\r\n      const firstTwoWords = words.slice(0, 3).join(\" \");\r\n      return firstTwoWords;\r\n    },\r\n    formatProductLabel(product) {\r\n      return product.product.title;\r\n    },\r\n    generateTrCode(n) {\r\n      const chars = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n      let result = \"\";\r\n      for (let i = 0; i < n; i++) {\r\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n      }\r\n      return result;\r\n    },\r\n    updatearrays() {\r\n      // Swal.fire({\r\n      //   title: \"Please Wait !\",\r\n      //   html: \"Loading data...\", // add html attribute if you want or remove\r\n      //   allowOutsideClick: false,\r\n      //   showConfirmButton: false,\r\n      //   willOpen: () => {\r\n      //     Swal.showLoading();\r\n      //   },\r\n      // });\r\n      axios\r\n        .get(`pos_stock/?filter=${this.filter}&limit=${this.limit}&offset=${this.offset}`)\r\n        .then((response) => {\r\n          // JSON responses are automatically parsed.\r\n          this.products = response.data[\"results\"];\r\n          this.totalProducts = response.data[\"count\"];\r\n          this.filteredProducts = this.products;\r\n          // Swal.close();\r\n        })\r\n        .catch((e) => {\r\n          Swal.fire({\r\n            position: \"center\",\r\n            icon: \"error\",\r\n            title: \"\" + e,\r\n            showConfirmButton: true,\r\n          }).then((e) => {\r\n            Swal.close(e);\r\n          });\r\n        });\r\n    },\r\n    applyFilter() {\r\n      var searchTextLower = this.searchText.toLowerCase();\r\n      this.filter = searchTextLower;\r\n      this.updatearrays();\r\n      this.filteredProducts = this.products;\r\n      //.filter((item) => {\r\n      //   return (\r\n      //     item.serial.toLowerCase().includes(searchTextLower) ||\r\n      //     item.product.title.includes(searchTextLower) ||\r\n      //     item.sku.toLowerCase().includes(searchTextLower) ||\r\n      //     item.product.maincategory.name.toLowerCase().includes(searchTextLower)\r\n      //   );\r\n      // });\r\n    },\r\n    handlePageChange(newPage) {\r\n      this.currentPage = newPage;\r\n      this.limit = this.perPage;\r\n      this.offset = (this.currentPage - 1) * this.perPage;\r\n      this.updatearrays();\r\n    },\r\n    addToCart(item) {\r\n      const product = item.product;\r\n      const quantity = this.quantity;\r\n      var retail_price = product.retail_price;\r\n      if (item.size !== null) {\r\n        retail_price = item.size.retail_price;\r\n      }\r\n      this.cart.push({\r\n        sku: item.sku,\r\n        product,\r\n        quantity,\r\n        retail_price,\r\n      });\r\n    },\r\n    removeFromCart(index) {\r\n      this.cart.splice(index, 1);\r\n    },\r\n    submitsale(data) {\r\n      axios\r\n        .post(\"salesadd/\", data)\r\n        .then((res) => {\r\n          var orderId = this.generateTrCode(10);\r\n          if (orderId == null) {\r\n            Swal.fire(\r\n              \"Payment Code validation error!\",\r\n              \"Invalid payment code!\",\r\n              \"warning\"\r\n            ); // invalid phone number\r\n            return;\r\n          }\r\n          if (this.paymentMethod === \"mpesa\") {\r\n            //validate phone number\r\n            if (\r\n              /^(2547|2541)\\d{8}$/.test(this.formattedPhoneNumber) &&\r\n              this.formattedPhoneNumber.length === 12\r\n            ) {\r\n              //valid pass\r\n            } else {\r\n              Swal.fire(\"Phone validation error!\", \"Invalid phone number!\", \"warning\"); // invalid phone number\r\n              return;\r\n            }\r\n            Swal.fire({\r\n              title: \"Please Wait...!\\nThis may take upto 1 min!\",\r\n              html: \"Payment processing...\", // add html attribute if you want or remove\r\n              timer: 60000, // set timer to 45 seconds\r\n              allowOutsideClick: false,\r\n              showConfirmButton: false,\r\n              willOpen: () => {\r\n                Swal.showLoading();\r\n              },\r\n            });\r\n            //send stk push\r\n            axios\r\n              .post(\"stkpush/\", {\r\n                orderId: orderId,\r\n                phone: this.formattedPhoneNumber,\r\n                total: this.total.toFixed(2),\r\n                reference: \"5464747\",\r\n                tr_description: \"Bengomall\",\r\n              })\r\n              .then((res) => {\r\n                console.log(res.data);\r\n                var pwd = res.data[\"password\"];\r\n                var checkoutID = res.data[\"checkoutID\"];\r\n                var timestamp = res.data[\"timestamp\"];\r\n                axios\r\n                  .post(\"payment/confirm/\", {\r\n                    pwd: pwd,\r\n                    timestamp: timestamp,\r\n                    chekoutID: checkoutID,\r\n                    orderId: orderId,\r\n                  })\r\n                  .then((res) => {\r\n                    Swal.close();\r\n                    Swal.fire({\r\n                      position: \"center\",\r\n                      icon: \"success\",\r\n                      title: \"Success!\",\r\n                      html: res.data.toString(),\r\n                      showConfirmButton: false,\r\n                      timer: 3000,\r\n                    });\r\n                    if (!res.data.toString().includes(\"cancel\")) {\r\n                      this.$emit(\"printReceipt\");\r\n                    }\r\n                    this.clearValues();\r\n                  });\r\n              });\r\n          }\r\n          this.$emit(\"printReceipt\");\r\n          Swal.fire({\r\n            position: \"center\",\r\n            icon: res.data.icon,\r\n            title: res.data.title,\r\n            html: res.data.msg,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n          this.clearValues();\r\n        })\r\n        .cath((e) => {\r\n          Swal.fire({\r\n            position: \"center\",\r\n            icon: \"error\",\r\n            title: \"\" + e,\r\n            showConfirmButton: true,\r\n            timer: 3000,\r\n          });\r\n        });\r\n    },\r\n    confirmPayment(status) {\r\n      var formdata = new FormData();\r\n      this.paycode = this.generateTrCode(10);\r\n      this.cart.forEach((item) => {\r\n        let retail_price = item.retail_price;\r\n        formdata.append(\"sku\", item.sku);\r\n        formdata.append(\"retail_price\", retail_price);\r\n        formdata.append(\"qty\", item.quantity);\r\n        formdata.append(\"total\", (item.quantity * item.retail_price).toFixed(2));\r\n      });\r\n      if (this.paymentMethod == \"cash\") {\r\n        if (Number(this.amountPaid) >= Number(this.total)) {\r\n          this.transactionCompleted = true;\r\n          this.trstatus = status;\r\n          //this.$emit(\"printReceipt\");\r\n        } else {\r\n          alert(\r\n            \"Amount paid:\" +\r\n              this.amountPaid +\r\n              \" is less than Total:\" +\r\n              this.total.toFixed(2)\r\n          );\r\n          return;\r\n        }\r\n      } else if (this.paymentMethod == \"mpesa\") {\r\n        this.trstatus = status;\r\n        this.$bvModal.hide(\"modal-mpesa\");\r\n      }\r\n      formdata.append(\"tax_amount\", 0.16 * this.total.toFixed(2));\r\n      formdata.append(\"tax\", 0.16);\r\n      formdata.append(\"change_amount\", this.change.toFixed(2));\r\n      formdata.append(\"tendered_amount\", this.amountPaid);\r\n      formdata.append(\"sub_total\", 0.84 * this.total.toFixed(2));\r\n      formdata.append(\"grand_total\", this.total.toFixed(2));\r\n      if (this.paycode == null) {\r\n        Swal.fire(\"Payment Code validation error!\", \"Invalid payment code!\", \"warning\"); // invalid phone number\r\n        return;\r\n      }\r\n      formdata.append(\"paycode\", this.paycode.toUpperCase());\r\n      formdata.append(\"status\", this.trstatus);\r\n      formdata.append(\"paymethod\", this.paymentMethod);\r\n      formdata.append(\"attendant\", JSON.parse(sessionStorage.user).id);\r\n      this.submitsale(formdata);\r\n    },\r\n    handleSubmit() {},\r\n    clearValues() {\r\n      this.transactionCompleted = false;\r\n      this.cart = [];\r\n      this.amountPaid = 0;\r\n      this.change = 0;\r\n      this.paymentMethod = \"cash\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.viewport {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./poscart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./poscart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./poscart.vue?vue&type=template&id=6765f5ef&scoped=true&\"\nimport script from \"./poscart.vue?vue&type=script&lang=js&\"\nexport * from \"./poscart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./poscart.vue?vue&type=style&index=0&id=6765f5ef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6765f5ef\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <Layout>\r\n            <PageHeader :title=\"title\" :items=\"items\" />\r\n            <poscart />\r\n        </Layout>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport poscart from './poscart.vue';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            title: \"POS\",\r\n            items: [\r\n                {\r\n                    text: \"POS\",\r\n                },\r\n                {\r\n                    text: \"POS\",\r\n                    active: true,\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    components: {\r\n        poscart,\r\n        Layout,\r\n        PageHeader,\r\n    },\r\n    methods: {\r\n        visitRoute() {\r\n            this.$router.push({ name: 'Post' })\r\n        }\r\n    },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6b00f499&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./poscart.vue?vue&type=style&index=0&id=6765f5ef&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"page-title-box d-flex align-items-center justify-content-between\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"page-title-right\"},[_c('b-breadcrumb',{staticClass:\"m-0\",attrs:{\"items\":_vm.items}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <!-- start page title -->\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div\r\n        class=\"page-title-box d-flex align-items-center justify-content-between\"\r\n      >\r\n        <h4 class=\"mb-0\">{{ title }}</h4>\r\n\r\n        <div class=\"page-title-right\">\r\n          <b-breadcrumb :items=\"items\" class=\"m-0\"></b-breadcrumb>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- end page title -->\r\n</template>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page-header.vue?vue&type=template&id=7e82d99c&\"\nimport script from \"./page-header.vue?vue&type=script&lang=js&\"\nexport * from \"./page-header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printReceipt.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"media/beep.0601a26f.mp3\";","module.exports = \"data:image/png;base64,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\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container overflow-auto\"},[_c('v-card',{ref:\"receipt\",staticClass:\"receipt-card\",attrs:{\"id\":\"receipt\"}},[_c('v-card-title',{staticClass:\"receipt-title\"},[_vm._v(\"BengoBox Commerce\")]),_c('v-card-text',{staticClass:\"receipt-text\"},[_c('p',[_vm._v(\"Receipt No: \"+_vm._s(_vm.receiptNo.toUpperCase()))]),_c('p',[_vm._v(\"Time: \"+_vm._s(_vm.formatDate)+\", \"+_vm._s(_vm.formatTime))]),_c('p',[_vm._v(\"------------------------------------\")]),_c('v-data-table',{staticClass:\"hide-per-page\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"item-key\":\"id\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.title\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.product_title))]}},{key:\"item.retail_price\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.retail_price))]}},{key:\"item.quantity\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.quantity))]}}],null,true)}),_c('p',[_vm._v(\"------------------------------------\")]),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Subtotal: \"+_vm._s(_vm.formatCurrency(_vm.subtotal * _vm.total)))])],1),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"VAT: \"+_vm._s(_vm.formatCurrency(_vm.tax * _vm.total)))])],1),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Total: \"+_vm._s(_vm.formatCurrency(_vm.total)))])],1),_c('p',[_vm._v(\"------------------------------------\")]),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Served By:\"+_vm._s(_vm.user))]),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Payment Method: \"+_vm._s(_vm.paymentMethod))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container overflow-auto\">\r\n    <v-card class=\"receipt-card\" ref=\"receipt\" id=\"receipt\">\r\n      <v-card-title class=\"receipt-title\">BengoBox Commerce</v-card-title>\r\n      <v-card-text class=\"receipt-text\">\r\n        <p>Receipt No: {{ receiptNo.toUpperCase() }}</p>\r\n        <p>Time: {{ formatDate }}, {{ formatTime }}</p>\r\n        <p>------------------------------------</p>\r\n        <v-data-table\r\n          :headers=\"headers\"\r\n          :items=\"items\"\r\n          item-key=\"id\"\r\n          hide-default-footer\r\n          class=\"hide-per-page\"\r\n        >\r\n          <template v-slot:[`item.title`]=\"{ item }\" class=\"text-wrap overflow-auto\">{{\r\n            item.product_title\r\n          }}</template>\r\n          <template v-slot:[`item.retail_price`]=\"{ item }\">{{ item.retail_price }}</template>\r\n          <template v-slot:[`item.quantity`]=\"{ item }\">{{ item.quantity }}</template>\r\n        </v-data-table>\r\n        <p>------------------------------------</p>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\"\r\n            >Subtotal: {{ formatCurrency(subtotal * total) }}</v-col\r\n          >\r\n        </v-row>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\">VAT: {{ formatCurrency(tax * total) }}</v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\">Total: {{ formatCurrency(total) }}</v-col>\r\n        </v-row>\r\n        <p>------------------------------------</p>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\">Served By:{{ user }}</v-col>\r\n          <v-row>\r\n            <v-col class=\"font-weight-bold\">Payment Method: {{ paymentMethod }}</v-col>\r\n          </v-row>\r\n        </v-row>\r\n      </v-card-text>\r\n    </v-card>\r\n    <!-- <v-btn class=\"print-btn\" @click=\"printReceipt\">Print Receipt</v-btn> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import jsPDF from \"jspdf\";\r\n\r\nexport default {\r\n  name: \"Receipt\",\r\n  props: {\r\n    items: Array,\r\n    headers: Array,\r\n    total: Number,\r\n    paymentMethod: String,\r\n    receiptNo: String,\r\n  },\r\n  data() {\r\n    return {\r\n      subtotal: 0.84,\r\n      tax: 0.16,\r\n      user: JSON.parse(sessionStorage.user).name,\r\n    };\r\n  },\r\n  computed: {\r\n    formatDate() {\r\n      const date = new Date();\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    },\r\n    formatTime() {\r\n      const date = new Date();\r\n      return `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\r\n    },\r\n  },\r\n  mounted() {\r\n    // Listen for the custom-action event from the parent component\r\n    this.$parent.$on(\"printReceipt\", this.handlePrint);\r\n  },\r\n  beforeUnmount() {\r\n    // Cleanup the event listener when the component is unmounted\r\n    this.$parent.$off(\"printReceipt\", this.handlePrint);\r\n  },\r\n  methods: {\r\n    formatCurrency(value) {\r\n      return `Kshs.${value.toFixed(2)}`;\r\n    },\r\n    handlePrint() {\r\n      const printWindow = window.open(\"\", \"_blank\", \"width=800,height=600\");\r\n      printWindow.document.write(\"<html><head><title>Receipt</title></head><body>\");\r\n      const printContents = document.getElementById(\"receipt\").innerHTML;\r\n      printWindow.document.write(printContents);\r\n      printWindow.document.write(\"</body></html>\");\r\n      printWindow.document.close();\r\n      printWindow.print();\r\n      printWindow.close();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.hide-per-page .v-data-footer__actions {\r\n  display: none;\r\n}\r\n\r\n.receipt {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.receipt-card {\r\n  max-width: 300px;\r\n}\r\n\r\n.receipt-title {\r\n  text-align: center;\r\n}\r\n\r\n.receipt-text {\r\n  padding: 16px;\r\n}\r\n\r\n.receipt-items {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.print-btn {\r\n  margin-top: 16px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printReceipt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printReceipt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./printReceipt.vue?vue&type=template&id=6a22240a&\"\nimport script from \"./printReceipt.vue?vue&type=script&lang=js&\"\nexport * from \"./printReceipt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./printReceipt.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}