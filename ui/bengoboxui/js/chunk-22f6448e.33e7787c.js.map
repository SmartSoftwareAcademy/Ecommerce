{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/pages/pos/printReceipt.vue?5457","webpack:///./src/views/pages/pos/sales.vue?5d3f","webpack:///src/views/pages/pos/sales.vue","webpack:///./src/views/pages/pos/sales.vue?5ae3","webpack:///./src/views/pages/pos/sales.vue","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/pages/pos/printReceipt.vue?d04e","webpack:///src/views/pages/pos/printReceipt.vue","webpack:///./src/views/pages/pos/printReceipt.vue?acf5","webpack:///./src/views/pages/pos/printReceipt.vue"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","classof","value","TypeError","render","_vm","_h","$createElement","_c","_self","attrs","title","items","staticClass","directives","name","rawName","modifiers","_v","on","$event","getrpt","printpdf","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","status","multiple","domProps","composing","fromdate","todate","updatearrays","pageOptions","handlePageChange","currentPage","model","callback","$$v","perPage","saleslist","fields","sortBy","sortDesc","filterOn","onFiltered","scopedSlots","_u","key","fn","data","item","_s","id","class","date","split","viewReceipt","$emit","openDialog","index","_e","deleterec","code","rows","ref","salesitems","receiptHeaders","total","paymentMethod","paycode","orderData","pl","headers","uniqueCars","showme","staticRenderFns","page","meta","components","totalRows","limit","offset","computed","length","mounted","methods","filteredItems","html","allowOutsideClick","showConfirmButton","willOpen","newPage","Object","entries","forEach","console","log","cars","push","values","csvRows","join","a","setAttribute","url","filename","document","body","appendChild","click","removeChild","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","input","inputPlaceholder","cancelButtonText","inputValidator","isConfirmed","saleitem","grand_total","receiptNo","paymethod","sales_items","product_title","i","retail_price","quantity","qty","middleware","component","$","thisNumberValue","fails","nativeToFixed","toFixed","floor","Math","pow","x","acc","x2","FORCED","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","multiply","c","c2","divide","dataToString","s","t","slice","toUpperCase","formatDate","formatTime","formatCurrency","subtotal","tax","user","props","Number","JSON","parse","sessionStorage","$parent","$on","handlePrint","beforeUnmount","$off","printWindow","write","printContents","close","print"],"mappings":"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","file":"js/chunk-22f6448e.33e7787c.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printReceipt.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('PageHeader',{attrs:{\"title\":_vm.title,\"items\":_vm.items}}),_c('div',{staticClass:\"row justify-content-between\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('div',{staticClass:\"row justify-content-between\"},[_c('div',{staticClass:\"col-sm-2\"},[_c('button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-Transaction\",modifiers:{\"modal-Transaction\":true}}],staticClass:\"btn btn-warning mb-3\",attrs:{\"type\":\"button\"}},[_c('i',{staticClass:\"mdi mdi-plus me-1\"}),_vm._v(\" Raise Invoice \")])]),_c('div',{staticClass:\"col-sm-2\"},[_c('button',{staticClass:\"btn btn-secondary waves-effect waves-light uil-export\",on:{\"click\":function($event){return _vm.getrpt()}}},[_vm._v(\" Export to CSV \")])]),_c('div',{staticClass:\"col-sm-2\"},[_c('button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-Print\",modifiers:{\"modal-Print\":true}}],staticClass:\"btn btn-secondary waves-effect waves-light uil-file\",on:{\"click\":function($event){return _vm.printpdf('p')}}},[_vm._v(\" Print PDF \")])])])]),_c('div',{staticClass:\"col-sm-6\"},[_c('div',{staticClass:\"float-end\"},[_c('div',{staticClass:\"form-inline mb-3\"},[_c('div',{staticClass:\"input-daterange input-group\",attrs:{\"data-provide\":\"datepicker\",\"data-date-format\":\"dd M, yyyy\",\"data-date-autoclose\":\"true\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"transactionType\"}},[_vm._v(\"Status\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.status),expression:\"status\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.status=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"pending\"}},[_vm._v(\"Pending\")]),_c('option',{attrs:{\"value\":\"completed\"}},[_vm._v(\"Completed\")])])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fromdate),expression:\"fromdate\"}],staticClass:\"form-control text-left\",attrs:{\"type\":\"date\",\"placeholder\":\"11/13/2023\",\"name\":\"From\"},domProps:{\"value\":(_vm.fromdate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fromdate=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.todate),expression:\"todate\"}],staticClass:\"form-control text-left\",attrs:{\"type\":\"date\",\"placeholder\":\"11/13/2023\",\"name\":\"To\"},domProps:{\"value\":(_vm.todate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.todate=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updatearrays()}}},[_c('i',{staticClass:\"mdi mdi-filter-variant\"})])])])])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 col-md-6\"},[_c('div',{staticClass:\"dataTables_length\",attrs:{\"id\":\"tickets-table_length\"}},[_c('label',{staticClass:\"d-inline-flex align-items-center fw-normal\"},[_vm._v(\" Show \"),_c('b-form-select',{attrs:{\"size\":\"sm\",\"options\":_vm.pageOptions},on:{\"input\":function($event){return _vm.handlePageChange(_vm.currentPage)}},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}}),_vm._v(\" entries \")],1)])]),_c('div',{staticClass:\"col-sm-12 col-md-6\"},[_c('div',{staticClass:\"dataTables_filter text-md-end\",attrs:{\"id\":\"tickets-table_filter\"}},[_c('label',{staticClass:\"d-inline-flex align-items-center fw-normal\"},[_vm._v(\" Search: \"),_c('b-form-input',{staticClass:\"form-control form-control-sm ms-2\",attrs:{\"type\":\"search\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)])])]),_c('div',{staticClass:\"table-responsive mb-0\"},[_c('b-table',{attrs:{\"table-class\":\"table table-centered datatable table-card-list\",\"thead-tr-class\":\"bg-transparent\",\"items\":_vm.saleslist,\"fields\":_vm.fields,\"responsive\":\"sm\",\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(check)\",fn:function(data){return [_c('div',{staticClass:\"custom-control custom-checkbox text-center\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":(\"contacusercheck\" + (data.item.id))}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(\"contacusercheck\" + (data.item.id))}})])]}},{key:\"cell(id)\",fn:function(data){return [_c('a',{staticClass:\"text-dark fw-bold\",attrs:{\"href\":\"javascript: void(0);\"}},[_vm._v(\" \"+_vm._s(data.item.id)+\" \")])]}},{key:\"cell(status)\",fn:function(data){return [_c('div',{staticClass:\"badge rounded-pill bg-soft-success font-size-12\",class:{ 'bg-soft-warning': data.item.status === 'pending' }},[_vm._v(\" \"+_vm._s(data.item.status)+\" \")])]}},{key:\"cell(date)\",fn:function(data){return [_c('a',{staticClass:\"text-body\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(data.item.date.split(\"T\")[0] + \" \" + data.item.date.split(\"T\")[1].split(\".\")[0]))])]}},{key:\"cell(download)\",fn:function(data){return [_c('div',[_c('button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-receipt\",modifiers:{\"modal-receipt\":true}}],staticClass:\"btn btn-light btn-sm w-xs\",on:{\"click\":function($event){_vm.viewReceipt(data.item), _vm.$emit('printReceipt')}}},[_c('i',{staticClass:\"uil uil-file ms-2 text-primary\"})])])]}},{key:\"cell(action)\",fn:function(data){return [_c('ul',{staticClass:\"list-inline mb-0\"},[(data.item.status == 'pending')?_c('li',{staticClass:\"list-inline-item\"},[_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"px-2 text-primary\",attrs:{\"href\":\"javascript:void(0);\",\"title\":\"complete\"},on:{\"click\":function($event){return _vm.openDialog(data.index, data.item.id)}}},[_vm._v(\"complete \")])]):_vm._e(),(data.item.status == 'completed')?_c('li',{staticClass:\"list-inline-item\"},[_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"px-2 text-danger\",attrs:{\"href\":\"javascript:void(0);\",\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleterec(data.index, data.item.id, data.item.code)}}},[_c('i',{staticClass:\"uil uil-trash-alt font-size-18\"})])]):_vm._e()])]}}])})],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"dataTables_paginate paging_simple_numbers float-end\"},[_c('ul',{staticClass:\"pagination pagination-rounded\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)])])]),_c('b-modal',{ref:\"modal\",attrs:{\"id\":\"modal-receipt\",\"title\":\"Print Receipt\",\"size\":\"lg\"}},[_c('Receipt',{attrs:{\"items\":_vm.salesitems,\"headers\":_vm.receiptHeaders,\"total\":_vm.total,\"paymentMethod\":_vm.paymentMethod,\"receiptNo\":_vm.paycode},on:{\"printReceipt\":_vm.viewReceipt}})],1),_c('b-modal',{attrs:{\"id\":\"modal-Print\",\"title\":\"Print PDF\",\"hide-footer\":\"\",\"size\":\"bg\",\"centered\":\"\"}},[_c('reportdet',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showme),expression:\"showme\"}],attrs:{\"title\":_vm.title,\"orderData\":_vm.orderData,\"pl\":_vm.pl,\"headers\":_vm.headers,\"uniqueCars\":_vm.uniqueCars,\"shome\":_vm.showme}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"@/app.config\";\r\nimport axios from \"@/Axiosconfig.js\";\r\nimport Swal from \"sweetalert2\";\r\nimport Receipt from \"./printReceipt.vue\";\r\nimport reportdet from \"@/components/report/header\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Sales List\",\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  components: { Layout, PageHeader, Receipt, reportdet },\r\n  data() {\r\n    return {\r\n      title: \"Sales List\",\r\n      items: [\r\n        {\r\n          text: \"Sales\",\r\n        },\r\n        {\r\n          text: \"Sales List\",\r\n          active: true,\r\n        },\r\n      ],\r\n      headers: null,\r\n      uniqueCars: null,\r\n      showme: true,\r\n      pl: \"\",\r\n      saleslist: [],\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 25,\r\n      pageOptions: [1, 5, 10, 25, 50, 100, 500, 1000, 1500, 2000],\r\n      filter: null,\r\n      filterOn: [],\r\n      sortBy: \"age\",\r\n      sortDesc: false,\r\n      total: 0,\r\n      salesitems: [],\r\n      paymentMethod: \"\",\r\n      status: \"\",\r\n      fromdate: \"\",\r\n      todate: \"\",\r\n      limit: 12,\r\n      offset: 0,\r\n      receiptHeaders: [\r\n        { text: \"Title\", value: \"title\", sortable: true },\r\n        { text: \"retail_price\", value: \"retail_price\", sortable: true },\r\n        { text: \"Quantity\", value: \"quantity\", sortable: true },\r\n      ],\r\n      paycode: \"\",\r\n      fields: [\r\n        {\r\n          key: \"check\",\r\n          label: \"#\",\r\n        },\r\n        {\r\n          key: \"code\",\r\n          label: \"Sale ID\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"date\",\r\n          label: \"Transaction Date\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"sales_items.length\",\r\n          label: \"Qty\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"grand_total\",\r\n          label: \"Total\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"paymethod\",\r\n          label: \"Payment Method\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"status\",\r\n          label: \"Status\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"download\",\r\n          label: \"Print Receipt\",\r\n        },\r\n        \"action\",\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    /**\r\n     * Total no. of records\r\n     */\r\n    rows() {\r\n      return this.saleslist.length;\r\n    },\r\n  },\r\n  mounted() {\r\n    // Set the initial number of items\r\n    this.updatearrays();\r\n    this.totalRows = this.saleslist.length;\r\n  },\r\n  methods: {\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n    updatearrays() {\r\n      Swal.fire({\r\n        title: \"Please Wait !\",\r\n        html: \"Loading data...\", // add html attribute if you want or remove\r\n        allowOutsideClick: false,\r\n        showConfirmButton: false,\r\n        willOpen: () => {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n      axios\r\n        .get(\r\n          `salesList/?limit=${this.limit}&offset=${this.offset}&status=${this.status}&fromdate=${this.fromdate}&todate=${this.todate}`\r\n        )\r\n        .then((response) => {\r\n          // JSON responses are automatically parsed.\r\n          this.saleslist = response.data;\r\n          Swal.close();\r\n        })\r\n        .catch((e) => {\r\n          Swal.fire({\r\n            position: \"center\",\r\n            icon: \"error\",\r\n            title: \"\" + e,\r\n            showConfirmButton: true,\r\n          }).then((e) => {\r\n            Swal.close(e);\r\n          });\r\n        });\r\n    },\r\n    handlePageChange(newPage) {\r\n      this.currentPage = newPage;\r\n      this.limit = this.perPage;\r\n      this.offset = (this.currentPage - 1) * this.perPage;\r\n      this.updatearrays();\r\n    },\r\n    printpdf(pl) {\r\n      //console.log(this.tokenString);\r\n      this.pl = pl;\r\n      const data = this.saleslist.map((row) => ({\r\n        ID: row.id,\r\n        \"Sale ID\": row.code,\r\n        \"Transaction Date\": row.date,\r\n        QTY: row.sales_items.length,\r\n        \"Total(KES)\": row.grand_total,\r\n        \"Payment Method\": row.paymethod,\r\n        status: row.status,\r\n      }));\r\n\r\n      //get headers\r\n      const headers = Object.keys(data[0]);\r\n      const cars = [];\r\n      Object.entries(data).forEach((val) => {\r\n        const [key, value] = val;\r\n        console.log(key, value);\r\n        cars.push(Object.values(data[key]));\r\n      });\r\n\r\n      const uniqueCars = Array.from(new Set(cars));\r\n      this.headers = headers;\r\n      this.uniqueCars = uniqueCars;\r\n      //alert(headers);\r\n    },\r\n\r\n    getrpt() {\r\n      //alert(new Date());\r\n      const d = new Date();\r\n      const year = d.getFullYear();\r\n      const month = d.getMonth();\r\n      const date = d.getDate();\r\n\r\n      const hour = d.getHours();\r\n      const min = d.getMinutes();\r\n      const sec = d.getSeconds();\r\n      const msec = d.getMilliseconds();\r\n      const filename =\r\n        year + \"-\" + month + \"-\" + date + \"-\" + hour + \"-\" + min + \"-\" + sec + \"-\" + msec;\r\n      //alert(filename);\r\n      const data = this.saleslist.map((row) => ({\r\n        ID: row.id,\r\n        \"Sale ID\": row.code,\r\n        \"Transaction Date\": row.date,\r\n        QTY: row.sales_items.length,\r\n        \"Total(KES)\": row.grand_total,\r\n        \"Payment Method\": row.paymethod,\r\n        status: row.status,\r\n      }));\r\n      //alert(\"\");\r\n      const csvRows = [];\r\n      //get headers\r\n      const headers = Object.keys(data[0]);\r\n\r\n      csvRows.push(headers.join(\",\"));\r\n      //alert(csvRows);\r\n      //loop over the headers\r\n      for (const row of data) {\r\n        const values = headers.map((header) => {\r\n          const escaped = (\"\" + row[header]).replace(/\"/g, '\\\\\"');\r\n          // alert(escaped);\r\n          return '\"' + escaped + '\"'; //'\" + escaped + \"';\r\n        });\r\n        csvRows.push(values.join(\",\"));\r\n      }\r\n      //alert(csvData);\r\n      const csvData = csvRows.join(\"\\n\");\r\n      //alert(csvData);\r\n\r\n      const blob = new Blob([csvData], { type: \"textcsv\" });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.setAttribute(\"hidden\", \"\");\r\n      a.setAttribute(\"href\", url);\r\n      a.setAttribute(\"download\", this.title + filename + \".csv\");\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n    },\r\n    deleterec(index, id, code) {\r\n      Swal.fire({\r\n        title: \"Are you sure, you want to delete sale #\" + code + \"?\",\r\n        text: \"You won't be able to revert this!\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#000000\",\r\n        cancelButtonColor: \"#f46a6a\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          axios\r\n            .delete(\"sales/\" + id + \"/\")\r\n            .then(() => {\r\n              this.saleslist.splice(index, 1);\r\n              Swal.fire(\"Deleted!\", code + \" has been deleted.\", \"success\");\r\n            })\r\n            .catch((e) => {\r\n              Swal.fire({\r\n                position: \"center\",\r\n                icon: \"error\",\r\n                title: \"Error!\",\r\n                html: e,\r\n                showConfirmButton: false,\r\n                timer: 1500,\r\n              });\r\n            });\r\n        }\r\n      });\r\n    },\r\n    openDialog(index, id) {\r\n      Swal.fire({\r\n        title: \"Enter transaction code?\",\r\n        input: \"text\",\r\n        inputPlaceholder: \"Enter transaction code here\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Complete Sale\",\r\n        cancelButtonText: \"Cancel\",\r\n        inputValidator: (value) => {\r\n          // Perform any validation on the user input\r\n          if (!value) {\r\n            return \"Please enter transaction code to continue!\";\r\n          } else if (value == \"NULL\") {\r\n            return `Transaction code cannot be ${value}!`;\r\n          } else if (value.length < 5) {\r\n            return `Transaction code ${value} is too short!`;\r\n          }\r\n        },\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          this.completetr(index, id, result.value);\r\n        }\r\n      });\r\n    },\r\n    async completetr(index, id, code) {\r\n      await axios\r\n        .post(\"completesales/\" + id + \"/\" + code + \"/\")\r\n        .then((res) => {\r\n          this.$emit(\"printReceipt\");\r\n          Swal.fire(res.data.title, res.data.msg, res.data.icon).then(() => {\r\n            this.saleslist[index].sales_details.status = \"completed\";\r\n            this.saleslist[index].sales_details.code = code;\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          Swal.fire({\r\n            position: \"center\",\r\n            icon: \"error\",\r\n            title: \"Error!\",\r\n            html: e,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        });\r\n    },\r\n    viewReceipt(saleitem) {\r\n      this.total = saleitem.grand_total;\r\n      this.receiptNo = saleitem.code;\r\n      this.paymentMethod = saleitem.paymethod;\r\n      let items = [];\r\n      saleitem.sales_items.forEach((i) => {\r\n        items.push({\r\n          product_title: i.product_title,\r\n          retail_price: i.retail_price,\r\n          quantity: i.qty,\r\n        });\r\n      });\r\n      this.salesitems = items;\r\n      this.$emit(\"printReceipt\");\r\n    },\r\n  },\r\n  middleware: \"authentication\",\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n    <div class=\"row justify-content-between\">\r\n      <div class=\"col-sm-6\">\r\n        <div class=\"row justify-content-between\">\r\n          <div class=\"col-sm-2\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-warning mb-3\"\r\n              v-b-modal.modal-Transaction\r\n            >\r\n              <i class=\"mdi mdi-plus me-1\"></i> Raise Invoice\r\n            </button>\r\n          </div>\r\n          <div class=\"col-sm-2\">\r\n            <button\r\n              class=\"btn btn-secondary waves-effect waves-light uil-export\"\r\n              @click=\"getrpt()\"\r\n            >\r\n              Export to CSV\r\n            </button>\r\n          </div>\r\n          <div class=\"col-sm-2\">\r\n            <button\r\n              @click=\"printpdf('p')\"\r\n              v-b-modal.modal-Print\r\n              class=\"btn btn-secondary waves-effect waves-light uil-file\"\r\n            >\r\n              Print PDF\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6\">\r\n        <div class=\"float-end\">\r\n          <div class=\"form-inline mb-3\">\r\n            <div\r\n              class=\"input-daterange input-group\"\r\n              data-provide=\"datepicker\"\r\n              data-date-format=\"dd M, yyyy\"\r\n              data-date-autoclose=\"true\"\r\n            >\r\n              <div class=\"form-group\">\r\n                <label for=\"transactionType\">Status</label>\r\n                <select v-model=\"status\" class=\"form-control\">\r\n                  <option value=\"pending\">Pending</option>\r\n                  <option value=\"completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n              <input\r\n                type=\"date\"\r\n                class=\"form-control text-left\"\r\n                placeholder=\"11/13/2023\"\r\n                name=\"From\"\r\n                v-model=\"fromdate\"\r\n              />\r\n              <input\r\n                type=\"date\"\r\n                class=\"form-control text-left\"\r\n                placeholder=\"11/13/2023\"\r\n                name=\"To\"\r\n                v-model=\"todate\"\r\n              />\r\n              <div class=\"input-group-append\">\r\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"updatearrays()\">\r\n                  <i class=\"mdi mdi-filter-variant\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12 col-md-6\">\r\n        <div id=\"tickets-table_length\" class=\"dataTables_length\">\r\n          <label class=\"d-inline-flex align-items-center fw-normal\">\r\n            Show&nbsp;\r\n            <b-form-select\r\n              v-model=\"perPage\"\r\n              size=\"sm\"\r\n              :options=\"pageOptions\"\r\n              @input=\"handlePageChange(currentPage)\"\r\n            ></b-form-select\r\n            >&nbsp;entries\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <!-- Search -->\r\n      <div class=\"col-sm-12 col-md-6\">\r\n        <div id=\"tickets-table_filter\" class=\"dataTables_filter text-md-end\">\r\n          <label class=\"d-inline-flex align-items-center fw-normal\">\r\n            Search:\r\n            <b-form-input\r\n              v-model=\"filter\"\r\n              type=\"search\"\r\n              class=\"form-control form-control-sm ms-2\"\r\n            ></b-form-input>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <!-- End search -->\r\n    </div>\r\n    <!-- Table -->\r\n    <div class=\"table-responsive mb-0\">\r\n      <b-table\r\n        table-class=\"table table-centered datatable table-card-list\"\r\n        thead-tr-class=\"bg-transparent\"\r\n        :items=\"saleslist\"\r\n        :fields=\"fields\"\r\n        responsive=\"sm\"\r\n        :per-page=\"perPage\"\r\n        :current-page=\"currentPage\"\r\n        :sort-by.sync=\"sortBy\"\r\n        :sort-desc.sync=\"sortDesc\"\r\n        :filter=\"filter\"\r\n        :filter-included-fields=\"filterOn\"\r\n        @filtered=\"onFiltered\"\r\n      >\r\n        <template v-slot:cell(check)=\"data\">\r\n          <div class=\"custom-control custom-checkbox text-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              class=\"custom-control-input\"\r\n              :id=\"`contacusercheck${data.item.id}`\"\r\n            />\r\n            <label\r\n              class=\"custom-control-label\"\r\n              :for=\"`contacusercheck${data.item.id}`\"\r\n            ></label>\r\n          </div>\r\n        </template>\r\n        <template v-slot:cell(id)=\"data\">\r\n          <a href=\"javascript: void(0);\" class=\"text-dark fw-bold\">\r\n            {{ data.item.id }}\r\n          </a>\r\n        </template>\r\n\r\n        <template v-slot:cell(status)=\"data\">\r\n          <div\r\n            class=\"badge rounded-pill bg-soft-success font-size-12\"\r\n            :class=\"{ 'bg-soft-warning': data.item.status === 'pending' }\"\r\n          >\r\n            {{ data.item.status }}\r\n          </div>\r\n        </template>\r\n        <template v-slot:cell(date)=\"data\">\r\n          <a href=\"#\" class=\"text-body\">{{\r\n            data.item.date.split(\"T\")[0] +\r\n            \" \" +\r\n            data.item.date.split(\"T\")[1].split(\".\")[0]\r\n          }}</a>\r\n        </template>\r\n        <template v-slot:cell(download)=\"data\">\r\n          <div>\r\n            <button\r\n              class=\"btn btn-light btn-sm w-xs\"\r\n              v-b-modal.modal-receipt\r\n              @click=\"viewReceipt(data.item), $emit('printReceipt')\"\r\n            >\r\n              <i class=\"uil uil-file ms-2 text-primary\"></i>\r\n            </button>\r\n          </div>\r\n        </template>\r\n        <template v-slot:cell(action)=\"data\">\r\n          <ul class=\"list-inline mb-0\">\r\n            <li class=\"list-inline-item\" v-if=\"data.item.status == 'pending'\">\r\n              <a\r\n                href=\"javascript:void(0);\"\r\n                class=\"px-2 text-primary\"\r\n                v-b-tooltip.hover\r\n                title=\"complete\"\r\n                @click=\"openDialog(data.index, data.item.id)\"\r\n                >complete\r\n              </a>\r\n            </li>\r\n            <li class=\"list-inline-item\" v-if=\"data.item.status == 'completed'\">\r\n              <a\r\n                href=\"javascript:void(0);\"\r\n                class=\"px-2 text-danger\"\r\n                v-b-tooltip.hover\r\n                title=\"Delete\"\r\n                @click=\"deleterec(data.index, data.item.id, data.item.code)\"\r\n              >\r\n                <i class=\"uil uil-trash-alt font-size-18\"></i>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </template>\r\n      </b-table>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <div class=\"dataTables_paginate paging_simple_numbers float-end\">\r\n          <ul class=\"pagination pagination-rounded\">\r\n            <!-- pagination -->\r\n            <b-pagination\r\n              v-model=\"currentPage\"\r\n              :total-rows=\"rows\"\r\n              :per-page=\"perPage\"\r\n            ></b-pagination>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--modals-->\r\n    <b-modal id=\"modal-receipt\" ref=\"modal\" title=\"Print Receipt\" size=\"lg\" class=\"\">\r\n      <Receipt\r\n        :items=\"salesitems\"\r\n        :headers=\"receiptHeaders\"\r\n        :total=\"total\"\r\n        :paymentMethod=\"paymentMethod\"\r\n        :receiptNo=\"paycode\"\r\n        @printReceipt=\"viewReceipt\"\r\n      />\r\n    </b-modal>\r\n    <b-modal id=\"modal-Print\" title=\"Print PDF\" hide-footer size=\"bg\" centered>\r\n      <reportdet\r\n        :title=\"title\"\r\n        :orderData=\"orderData\"\r\n        :pl=\"pl\"\r\n        :headers=\"headers\"\r\n        :uniqueCars=\"uniqueCars\"\r\n        :shome=\"showme\"\r\n        v-show=\"showme\"\r\n      ></reportdet>\r\n    </b-modal>\r\n  </Layout>\r\n</template>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sales.vue?vue&type=template&id=1bf3ad6a&\"\nimport script from \"./sales.vue?vue&type=script&lang=js&\"\nexport * from \"./sales.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container overflow-auto\"},[_c('v-card',{ref:\"receipt\",staticClass:\"receipt-card\",attrs:{\"id\":\"receipt\"}},[_c('v-card-title',{staticClass:\"receipt-title\"},[_vm._v(\"BengoBox Commerce\")]),_c('v-card-text',{staticClass:\"receipt-text\"},[_c('p',[_vm._v(\"Receipt No: \"+_vm._s(_vm.receiptNo.toUpperCase()))]),_c('p',[_vm._v(\"Time: \"+_vm._s(_vm.formatDate)+\", \"+_vm._s(_vm.formatTime))]),_c('p',[_vm._v(\"------------------------------------\")]),_c('v-data-table',{staticClass:\"hide-per-page\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"item-key\":\"id\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.title\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.product_title))]}},{key:\"item.retail_price\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.retail_price))]}},{key:\"item.quantity\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.quantity))]}}],null,true)}),_c('p',[_vm._v(\"------------------------------------\")]),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Subtotal: \"+_vm._s(_vm.formatCurrency(_vm.subtotal * _vm.total)))])],1),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"VAT: \"+_vm._s(_vm.formatCurrency(_vm.tax * _vm.total)))])],1),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Total: \"+_vm._s(_vm.formatCurrency(_vm.total)))])],1),_c('p',[_vm._v(\"------------------------------------\")]),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Served By:\"+_vm._s(_vm.user))]),_c('v-row',[_c('v-col',{staticClass:\"font-weight-bold\"},[_vm._v(\"Payment Method: \"+_vm._s(_vm.paymentMethod))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container overflow-auto\">\r\n    <v-card class=\"receipt-card\" ref=\"receipt\" id=\"receipt\">\r\n      <v-card-title class=\"receipt-title\">BengoBox Commerce</v-card-title>\r\n      <v-card-text class=\"receipt-text\">\r\n        <p>Receipt No: {{ receiptNo.toUpperCase() }}</p>\r\n        <p>Time: {{ formatDate }}, {{ formatTime }}</p>\r\n        <p>------------------------------------</p>\r\n        <v-data-table\r\n          :headers=\"headers\"\r\n          :items=\"items\"\r\n          item-key=\"id\"\r\n          hide-default-footer\r\n          class=\"hide-per-page\"\r\n        >\r\n          <template v-slot:[`item.title`]=\"{ item }\" class=\"text-wrap overflow-auto\">{{\r\n            item.product_title\r\n          }}</template>\r\n          <template v-slot:[`item.retail_price`]=\"{ item }\">{{ item.retail_price }}</template>\r\n          <template v-slot:[`item.quantity`]=\"{ item }\">{{ item.quantity }}</template>\r\n        </v-data-table>\r\n        <p>------------------------------------</p>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\"\r\n            >Subtotal: {{ formatCurrency(subtotal * total) }}</v-col\r\n          >\r\n        </v-row>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\">VAT: {{ formatCurrency(tax * total) }}</v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\">Total: {{ formatCurrency(total) }}</v-col>\r\n        </v-row>\r\n        <p>------------------------------------</p>\r\n        <v-row>\r\n          <v-col class=\"font-weight-bold\">Served By:{{ user }}</v-col>\r\n          <v-row>\r\n            <v-col class=\"font-weight-bold\">Payment Method: {{ paymentMethod }}</v-col>\r\n          </v-row>\r\n        </v-row>\r\n      </v-card-text>\r\n    </v-card>\r\n    <!-- <v-btn class=\"print-btn\" @click=\"printReceipt\">Print Receipt</v-btn> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import jsPDF from \"jspdf\";\r\n\r\nexport default {\r\n  name: \"Receipt\",\r\n  props: {\r\n    items: Array,\r\n    headers: Array,\r\n    total: Number,\r\n    paymentMethod: String,\r\n    receiptNo: String,\r\n  },\r\n  data() {\r\n    return {\r\n      subtotal: 0.84,\r\n      tax: 0.16,\r\n      user: JSON.parse(sessionStorage.user).name,\r\n    };\r\n  },\r\n  computed: {\r\n    formatDate() {\r\n      const date = new Date();\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    },\r\n    formatTime() {\r\n      const date = new Date();\r\n      return `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\r\n    },\r\n  },\r\n  mounted() {\r\n    // Listen for the custom-action event from the parent component\r\n    this.$parent.$on(\"printReceipt\", this.handlePrint);\r\n  },\r\n  beforeUnmount() {\r\n    // Cleanup the event listener when the component is unmounted\r\n    this.$parent.$off(\"printReceipt\", this.handlePrint);\r\n  },\r\n  methods: {\r\n    formatCurrency(value) {\r\n      return `Kshs.${value.toFixed(2)}`;\r\n    },\r\n    handlePrint() {\r\n      const printWindow = window.open(\"\", \"_blank\", \"width=800,height=600\");\r\n      printWindow.document.write(\"<html><head><title>Receipt</title></head><body>\");\r\n      const printContents = document.getElementById(\"receipt\").innerHTML;\r\n      printWindow.document.write(printContents);\r\n      printWindow.document.write(\"</body></html>\");\r\n      printWindow.document.close();\r\n      printWindow.print();\r\n      printWindow.close();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.hide-per-page .v-data-footer__actions {\r\n  display: none;\r\n}\r\n\r\n.receipt {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.receipt-card {\r\n  max-width: 300px;\r\n}\r\n\r\n.receipt-title {\r\n  text-align: center;\r\n}\r\n\r\n.receipt-text {\r\n  padding: 16px;\r\n}\r\n\r\n.receipt-items {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.print-btn {\r\n  margin-top: 16px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printReceipt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printReceipt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./printReceipt.vue?vue&type=template&id=6a22240a&\"\nimport script from \"./printReceipt.vue?vue&type=script&lang=js&\"\nexport * from \"./printReceipt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./printReceipt.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}