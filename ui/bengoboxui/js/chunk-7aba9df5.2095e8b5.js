(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aba9df5","chunk-2d0b295b"],{2579:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[s("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),s("div",{staticClass:"page-title-right"},[s("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])},i=[],r={props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},d=r,o=s("2877"),l=Object(o["a"])(d,a,i,!1,null,null,null);e["a"]=l.exports},"4eee":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("PageHeader",{attrs:{title:t.title,items:t.items}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card"},[a("b-modal",{attrs:{title:t.modaltitle,size:"lg",id:"modal-address"}},[a("addAddress",{attrs:{editmode:t.editmode,modaltitle:t.modaltitle,id:t.myid,selectedCity:t.selectedCity,selectedTown:t.selectedTown,zip_code:t.zip_code,first_name:t.first_name,last_name:t.last_name,phone_number:t.phone_number,other_phone:t.other_phone,delivery_address:t.delivery_address,default_address:t.default_address},on:{getuserAddress:function(e){return t.getuserAddress()}}})],1)],1),a("form",{ref:"checkout-form",attrs:{id:"checkout-form"},on:{submit:function(e){return e.preventDefault(),t.checkout()}}},[a("div",{staticClass:"custom-accordion"},[a("div",{staticClass:"card"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.checkout-shippinginfo-collapse",modifiers:{"checkout-shippinginfo-collapse":!0}}],staticClass:"collapsed text-dark",attrs:{href:"javascript: void(0);","data-toggle":"collapse"}},[t._m(0)]),a("b-collapse",{attrs:{id:"checkout-shippinginfo-collapse"}},[a("div",{staticClass:"p-4 border-top"},[a("div",{staticClass:"row"},[a("div",{staticClass:"card"},[a("div",{staticClass:"media-body overflow-hidden bg-light mb-4"},[a("h5",{staticClass:"font-size-14 mb-1 d-inline border-2 shadow-sm border-light"},[t._v(" YOUR ADDRESS ")]),null!==t.useraddr?a("router-link",{staticClass:"text-muted mb-1 d-inline float-right mr-4 pr-4 btn btn-default border-2 shadow-sm border-warning",attrs:{to:{name:"Addresses"}}},[t._v(" CHANGE ")]):t._e(),a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-address",modifiers:{"modal-address":!0}}],staticClass:"btn btn-default bg-light text-warning font-weight-bold d-inline float-end shadow-sm mr-4"},[t._v(" ADD SHIPING ADDRESS ")]),null!==t.useraddr?a("div",{staticClass:"card-body"},[a("h5",{staticClass:"text-wrap"},[t._v(" "+t._s(t.useraddr.address_label)+" ")]),a("p",[a("span",[t._v(t._s(t.useraddr.postal_code)+","+t._s(t.useraddr.city__pickup_location||t.useraddr.city)+" - "+t._s(t.useraddr.region__region||t.useraddr.region))]),a("br"),a("span",[t._v(t._s(t.useraddr.phone)+"/"+t._s(t.useraddr.other_phone))])])]):t._e()],1)])]),null!==t.useraddr?a("h5",{staticClass:"font-size-14 mb-3 badge badge-pill bg-warning text-uppercase"},[t._v(" pickup stations near you ")]):t._e(),null!==t.useraddr?a("p",{staticClass:"text-uppercase"},[t._v(" click to select a pickup station ")]):t._e(),null!==t.useraddr?a("div",{staticClass:"row"},t._l(t.delivery_addresses,(function(e){return a("div",{key:e.id,staticClass:"col-lg-3 col-sm-6"},[a("div",[a("label",{staticClass:"card-radio-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAddress,expression:"selectedAddress"}],staticClass:"card-radio-input",attrs:{type:"radio",name:"pay-method",id:e.id,required:""},domProps:{value:e,checked:t._q(t.selectedAddress,e)},on:{click:function(s){t.setShippingCharge(e.shipping_charge),t.addDeliveryAddress(e)},change:function(s){t.selectedAddress=e}}}),a("span",{staticClass:"card-radio text-wrap"},[a("i",{staticClass:"uil uil-postcard text-warning float-end h2"}),a("h5",{staticClass:"font-weight-bold"},[t._v(t._s(e.city))]),a("p",{staticClass:"text-muted"},[t._v(" Available between "+t._s(t.dateFrom)+" and "+t._s(t.dateTo)+" ")]),a("v-divider"),a("p",[t._v(" "+t._s(t.useraddr.region_region||t.useraddr.region)+", "+t._s(e.description)+" ")]),a("a",{staticClass:"mt-1",attrs:{href:e.google_pin,target:"_blank"}},[t._v("View on map ")]),a("h5",{staticClass:"disabled font-weight-light mt-2"},[t._v("Open Hours:")]),a("p",{},[t._v(t._s(e.open_hours))]),a("h5",{staticClass:"disabled font-weight-light mt-2"},[t._v(" Payment Options: ")]),a("p",{},[t._v(t._s(e.payment_options))])],1),a("div",{staticClass:"card border-1 border-light bg-warning p-0 m-0"},[a("div",{staticClass:"card-body m-0 p-2"},[e.shipping_charge?a("h5",{attrs:{clas:"my-2 text-white"}},[a("b",{staticClass:"text-white"},[t._v("Delivery Fee:")]),t._v(" KShs."+t._s(e.shipping_charge)+" ")]):t._e(),0===e.shipping_charge?a("h5",{attrs:{clas:"my-2 text-white"}},[a("b",{staticClass:"text-white"},[t._v("Delivery Fee:")]),t._v("FREE ")]):t._e()])])])])])})),0):t._e()])])],1),a("div",{staticClass:"card"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.checkout-paymentinfo-collapse",modifiers:{"checkout-paymentinfo-collapse":!0}}],staticClass:"collapsed text-dark",attrs:{href:"javascript: void(0);","data-toggle":"collapse"}},[t._m(1)]),a("b-collapse",{attrs:{id:"checkout-paymentinfo-collapse"}},[a("div",{staticClass:"p-4 border-top"},[a("div",[a("h5",{staticClass:"font-size-14 mb-3"},[t._v("Payment method :")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 col-sm-6"},[a("div",{attrs:{"data-toggle":"collapse"}},[a("label",{staticClass:"card-radio-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMethod,expression:"paymentMethod"}],staticClass:"card-radio-input",attrs:{type:"radio",name:"pay-method",id:"pay-methodoption1",value:"card",required:""},domProps:{checked:t._q(t.paymentMethod,"card")},on:{change:function(e){t.paymentMethod="card"}}}),a("span",{staticClass:"card-radio text-center text-truncate"},[a("i",{staticClass:"uil uil-postcard d-block h2 mb-3"}),t._v(" Credit / Debit Card ")])])])]),a("div",{staticClass:"col-lg-3 col-sm-6"},[a("div",[a("label",{staticClass:"card-radio-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMethod,expression:"paymentMethod"}],staticClass:"card-radio-input",attrs:{type:"radio",name:"pay-method",id:"pay-methodoption2",value:"mpesa"},domProps:{checked:t._q(t.paymentMethod,"mpesa")},on:{change:function(e){t.paymentMethod="mpesa"}}}),a("span",{staticClass:"card-radio text-center text-truncate"},[a("img",{attrs:{src:s("9b35"),width:"100",height:"70"}})])])])]),a("div",{staticClass:"col-lg-3 col-sm-6"},[a("div",[a("label",{staticClass:"card-radio-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMethod,expression:"paymentMethod"}],staticClass:"card-radio-input",attrs:{type:"radio",name:"pay-method",id:"pay-methodoption3",value:"mpesa_on_delivery",checked:""},domProps:{checked:t._q(t.paymentMethod,"mpesa_on_delivery")},on:{change:function(e){t.paymentMethod="mpesa_on_delivery"}}}),a("span",{staticClass:"card-radio text-center text-truncate"},[a("i",{staticClass:"uil uil-money-bill d-block h2 mb-3"}),a("span",[t._v("Mpesa on Delivery")])])])])]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card checkout-order-summary"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"p-3 bg-light mb-4"},[a("h5",{staticClass:"font-size-16 mb-0 text-uppercase"},[t._v(" Order Summary "),a("span",{staticClass:"float-end ms-2 badge badge-pill bg-warning"},[t._v("#"+t._s(t.orderNo))])])]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-centered mb-0 table-nowrap"},[a("thead",[a("tr",[a("th",{staticClass:"border-top-0",staticStyle:{width:"110px"},attrs:{scope:"col"}},[t._v(" Product ")]),a("th",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v("Product Desc")]),a("th",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v("retail_price(KShs)")])])]),a("tbody",[t._l(t.cart.items,(function(e){return a("tr",{key:e.id},[a("th",{attrs:{scope:"row"}},[a("img",{staticClass:"avatar-md",attrs:{src:e.product.images[0].image,alt:"product-img",title:"product-img"}})]),a("td",[a("h5",{staticClass:"font-size-14 text-truncate"},[a("router-link",{staticClass:"text-dark text-truncate",attrs:{to:{name:"Product Detail",params:{product:e.product,category:e.product.maincategory}}}},[t._v(t._s(e.product.title))])],1),a("p",{staticClass:"text-muted mb-0"},[t._v(" "+t._s(e.item_subtotal)+" x "+t._s(e.quantity)+" ")])]),a("td",[t._v(" "+t._s((new Intl.NumberFormat).format(e.item_total*e.quantity))+" ")])])})),a("tr",[a("td",{attrs:{colspan:"2"}},[a("h5",{staticClass:"font-size-14 m-0"},[t._v("Sub Total :")])]),a("td",[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cart.subtotal))+" ")])]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("h5",{staticClass:"font-size-14 m-0"},[t._v("Shipping Charge :")])]),a("td",[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cart.shipping))+" ")])]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("h5",{staticClass:"font-size-14 m-0"},[t._v("Tax :")])]),a("td",[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cart.tax))+" ")])]),a("tr",{staticClass:"bg-light"},[a("td",{attrs:{colspan:"2"}},[a("h5",{staticClass:"font-size-14 m-0"},[t._v("Total:")])]),a("td",[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cart.total))+" ")])])],2)])])])])])])])])])],1)]),a("div",{staticClass:"row my-4"},[a("div",{staticClass:"col"},[a("router-link",{staticClass:"btn btn-link text-muted",attrs:{to:"/ecommerce/products"}},[a("i",{staticClass:"uil uil-arrow-left me-1"}),t._v(" Continue Shopping ")])],1),a("div",{staticClass:"col"},[a("div",{staticClass:"text-sm-right mt-2 mt-sm-0"},[a("button",{staticClass:"btn btn-warning",attrs:{type:"submit"},on:{click:function(e){return t.checkout()}}},[a("i",{staticClass:"uil uil-shopping-cart-alt me-1 text-white"}),t._v(" PROCEED TO SUMMARY ")])])])])])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-4"},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"me-3"},[s("i",{staticClass:"uil uil-truck text-primary h2"})]),s("div",{staticClass:"media-body overflow-hidden"},[s("h5",{staticClass:"font-size-16 mb-1"},[t._v("DELIVERY")]),s("p",{staticClass:"text-muted text-truncate mb-0"},[t._v("Shipping Address")])]),s("i",{staticClass:"mdi mdi-chevron-up accor-down-icon font-size-24"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-4"},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"me-3"},[s("i",{staticClass:"uil uil-bill text-primary h2"})]),s("div",{staticClass:"media-body overflow-hidden"},[s("h5",{staticClass:"font-size-16 mb-1"},[t._v("PAYMENT")]),s("p",{staticClass:"text-muted text-truncate mb-0"},[t._v("Payment Method")])]),s("i",{staticClass:"mdi mdi-chevron-up accor-down-icon font-size-24"})])])}],r=(s("a4d3"),s("e01a"),s("2579")),d=s("c2a4"),o=s("2e9e"),l=s("3d20"),n=s.n(l),c={components:{PageHeader:r["a"],addAddress:o["default"]},page:{title:"CHECKOUT",meta:[{name:"description",content:d.description}]},data:function(){return{title:"CHECKOUT",items:[{text:"Checkout"},{text:"Checkout",active:!0}],modaltitle:"Address Book",cartItems:[],addr:null,editmode:!1,selectmode:!1,myid:0,myindex:0,selectedCity:null,selectedTown:"",zip_code:"",first_name:"",last_name:"",phone_number:"",other_phone:"",delivery_address:"",default_address:!1,addresses:[],useraddr:null,user:null,orderNo:null,daysfrom:7,daysto:10,date:new Date,paymentMethod:null,selectedAddress:null}},computed:{cart:function(){return this.$store.state.cart},defaultaddress:function(){return this.$store.state.address.defaultaddress},useraddress:function(){return this.$store.state.address.addresses},delivery_addresses:function(){return this.$store.state.address.delivery_addresses},dateFrom:function(){var t=new Date(this.date);return t.setDate(t.getDate()+this.daysfrom),t.toDateString()},dateTo:function(){var t=new Date(this.date);return t.setDate(t.getDate()+this.daysto),t.toDateString()}},mounted:function(){this.getuserAddress(),this.cartItems=this.$route.params.cartItems,this.user=JSON.parse(sessionStorage.user),this.orderNo=this.$route.params.orderNo,console.log(this.useraddr)},methods:{getuserAddress:function(){this.useraddr=this.defaultaddress,this.addresses=this.delivery_addresses},setShippingCharge:function(t){null==t&&(t=100),this.$store.dispatch("cart/setShippingCharge",t)},addDeliveryAddress:function(t){this.$store.dispatch("address/addDeliveryAddress",t)},checkout:function(){null!==this.selectedAddress?null!==this.paymentMethod?this.$router.push({name:"Summary",params:{orderNo:this.orderNo,useraddress:this.defaultaddress,deliveryaddress:this.selectedAddress,paymentMethod:this.paymentMethod}}):n.a.fire("Validation Error!","Please select a payment method!","warning"):n.a.fire("Validation Error!","Please select a delivery address!","warning")}},middleware:"authentication"},m=c,u=s("2877"),p=Object(u["a"])(m,a,i,!1,null,null,null);e["default"]=p.exports},"9b35":function(t,e){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=chunk-7aba9df5.2095e8b5.js.map