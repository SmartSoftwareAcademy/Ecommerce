(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cba91712","chunk-2d0b295b"],{1148:function(t,e,a){"use strict";var i=a("a691"),n=a("1d80");t.exports="".repeat||function(t){var e=String(n(this)),a="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},"12b0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Layout",[a("PageHeader",{attrs:{title:t.title,items:t.items}}),a("poscart")],1)],1)},n=[],r=a("5658"),o=a("2579"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"conatiner"},[i("v-card",{staticClass:"border border-solid border-2 rounded-1 border-warning"},[i("v-card-title",[t._v("Point Of Sale")]),i("div",{staticClass:"row m-2 p-2"},[i("div",{staticClass:"col-lg-4"},[i("div",{staticClass:"mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control mr-sm-2 d-inline-block",attrs:{type:"search",placeholder:"Search product by title,sku,serial,id,category..","aria-label":"Search"},domProps:{value:t.searchText},on:{input:[function(e){e.target.composing||(t.searchText=e.target.value)},function(e){return t.applyFilter()}]}})])]),i("div",{staticClass:"col-lg-2"},[i("div",{staticClass:"mb-3"},[i("button",{staticClass:"btn btn-outline-warning my-2 my-sm-0 d-inline-block",attrs:{type:"button"},on:{click:function(e){return t.applyFilter()}}},[i("i",{staticClass:"fa fa-sync"}),t._v("Refresh ")])])]),i("div",{staticClass:"col-sm-2 float-end"},[i("span",{staticClass:"p-2 rounded-1 bg-danger d-inline-block"}),i("span",{staticClass:"d-inline-block text-danger p-2"},[t._v("Stock alert!!")])])]),i("div",{staticClass:"row m-2 overflow-scroll border border-2 border-light rounded"},[t._l(t.filteredProducts,(function(e){return i("div",{key:e.id,staticClass:"col-sm-2 p-2"},[i("a",{staticClass:"bg-light",attrs:{href:"#"},on:{click:function(a){return t.addToCart(e)}}},[i("figure",[i("img",{attrs:{src:e.product.images[0].image,width:200,height:150,alt:"Product Image"}}),i("figcaption",[i("span",{staticClass:"badge badge-pill bg-secondary text-wrap",class:{"bg-danger":Number(e.stock_level)<Number(e.reorder_level)}},[t._v(t._s(t.getFirstTwoWords(e.product.title))+" sku:"+t._s(e.sku)+" "),null!==e.size?i("span",{staticClass:"badge badge-pill bg-warning"},[t._v(t._s(e.size.size)+" "+t._s(e.size.unit.unit_symbol))]):t._e(),t._v(" "),i("h5",{staticClass:"badge badge-pill bg-warning"},[t._v("QTY:"+t._s(e.stock_level))])])])])])])})),i("div",{staticClass:"row mb-1"},[t.totalProducts>1?i("v-pagination",{staticClass:"bg-warning text-dark rounded-1",attrs:{"total-visible":8,"prev-text":"Previous","next-text":"Next",length:Math.ceil(t.totalProducts/t.perPage)},on:{input:function(e){return t.handlePageChange(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],2),i("v-card",[i("v-card-title",[t._v("Tray")]),i("v-card-text",[i("v-data-table",{attrs:{headers:t.headers,items:t.cart,"item-key":"id"},scopedSlots:t._u([{key:"item.image",fn:function(t){var e=t.item;return[i("img",{attrs:{src:e.product.images[0].image,height:30}})]}},{key:"item.title",fn:function(e){var a=e.item;return[t._v(t._s(a.product.title))]}},{key:"item.retail_price",fn:function(e){var a=e.item;return[t._v(t._s(a.retail_price))]}},{key:"item.quantity",fn:function(e){var a=e.item;return[i("v-text-field",{staticClass:"w-25",attrs:{type:"number",min:"1"},model:{value:a.quantity,callback:function(e){t.$set(a,"quantity",e)},expression:"item.quantity"}})]}},{key:"item.actions",fn:function(e){var a=e.item;return[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.removeFromCart(a.index)}}},[i("v-icon",[t._v("mdi-delete")])],1)]}}],null,!0)})],1)],1),i("v-card",[i("v-card-text",[i("div",{staticClass:"float-end bg-light rounded-1 p-2"},[i("h3",[t._v(" Total: KES "),i("strong",[t._v(t._s(t.total.toFixed(2)))])]),t.amountPaid>0?i("h4",[t._v(" Change: KES "),i("strong",[t._v(t._s(t.change.toFixed(2)))])]):t._e()]),"cash"===t.paymentMethod?i("div",[i("h3",{staticClass:"d-inline"},[t._v("Tendered Amount:")]),i("v-text-field",{staticClass:"d-inline-block form-input m-2",attrs:{placeholder:t.amountPaid},model:{value:t.amountPaid,callback:function(e){t.amountPaid=t._n(e)},expression:"amountPaid"}}),i("v-radio-group",{model:{value:t.paymentMethod,callback:function(e){t.paymentMethod=e},expression:"paymentMethod"}},[i("v-radio",{attrs:{value:"cash",label:"Cash"}},[t._v("Cash")]),i("v-radio",{attrs:{value:"mpesa",label:"M-Pesa"}},[t._v("M-Pesa")])],1)],1):t._e(),"cash"===t.paymentMethod?i("v-btn",{staticClass:"btn btn-warning",attrs:{outlined:""},on:{click:function(e){return t.confirmPayment("completed")}}},[t._v("Complete Transaction")]):t._e(),"mpesa"===t.paymentMethod?i("v-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-mpesa",modifiers:{"modal-mpesa":!0}}],staticClass:"btn btn-primary"},[t._v("Confirm Payment")]):t._e()],1)],1)],1),i("b-modal",{attrs:{title:"Confirm Payment Details",size:"lg",id:"modal-confirmdetails"}},[i("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("div",{staticClass:"form-group"},[i("p",{staticClass:"text-muted"},[t._v(" An M-Pesa stk push will be sent to your phone when you tap 'MAKE PAYMENT' button. Please confirm your pin on the pop-up screen to complete your order! ")]),i("label",{staticClass:"mr-4",attrs:{for:"amount"}},[t._v("Amount To Be Paid:(KES)")]),i("span",{staticClass:"d-inline float-right mt-0 pt-0 mb-2"},[i("img",{attrs:{src:a("9b35"),width:"90",height:"50"}})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.total,expression:"cart.total"}],staticClass:"form-control",attrs:{type:"text",id:"amount",disabled:""},domProps:{value:t.cart.total},on:{input:function(e){e.target.composing||t.$set(t.cart,"total",e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"phone"}},[t._v("Phone Number:")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.PhoneNumber,expression:"PhoneNumber"}],staticClass:"form-control",attrs:{type:"text",id:"phone",disabled:!t.editablePhoneNumber},domProps:{value:t.PhoneNumber},on:{input:function(e){e.target.composing||(t.PhoneNumber=e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.editablePhoneNumber=!0}}},[t._v(" Edit ")])])])]),i("button",{staticClass:"btn btn-primary text-white mt-2 text-uppercase",attrs:{type:"submit"},on:{click:function(e){return t.placeOrder()}}},[t._v(" make payment ")])])]),i("b-modal",{ref:"modal",attrs:{id:"modal-mpesa",title:"Confirm Payment",size:"lg"}},[i("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("div",{staticClass:"form-group"},[i("p",{staticClass:"text-muted"},[t._v(" An M-Pesa stk push will be sent to your phone when you tap 'MAKE PAYMENT' button. Please confirm your pin on the pop-up screen to complete your order! ")]),i("label",{staticClass:"mr-4",attrs:{for:"amount"}},[t._v("Amount:(KES)")]),i("span",{staticClass:"d-inline float-right mt-0 pt-0 mb-2"},[i("img",{attrs:{src:a("9b35"),width:"90",height:"50"}})]),i("span",{staticClass:"form-control",attrs:{id:"amount"}},[t._v(t._s(t.total.toFixed(2)))])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6"},[i("b-form-group",{attrs:{label:"Amount","label-for":"amountpaid","invalid-feedback":"Amount paid is required"}},[i("b-form-input",{attrs:{id:"amountpaid",required:""},model:{value:t.PhoneNumber,callback:function(e){t.PhoneNumber=e},expression:"PhoneNumber"}})],1)],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-6"},[i("b-button",{attrs:{typ:"submit",variant:"success"},on:{click:function(e){return t.confirmPayment("pending")}}},[t._v("Request Payment ")])],1),i("div",{staticClass:"col-lg-6"},[i("b-button",{attrs:{typ:"submit",variant:"warning"},on:{click:function(e){return t.confirmPayment("pending")}}},[t._v("Save as Pending ")])],1)])])]),i("Receipt",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{items:t.cart,headers:t.receiptHeaders,total:Number(t.total.toFixed(2)),paymentMethod:t.paymentMethod,receiptNo:t.paycode},on:{printReceipt:t.submitsale}})],1)},c=[],l=(a("99af"),a("4de4"),a("4160"),a("caad"),a("a15b"),a("13d5"),a("fb6a"),a("a434"),a("a9e3"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("1276"),a("159b"),a("e607"),a("d1b3")),u=a("9227"),d=a("3d20"),m=a.n(d),p={name:"PosCart",data:function(){return{headers:[{text:"Image",value:"image",sortable:!0},{text:"Title",value:"title",sortable:!0},{text:"Price",value:"retail_price",sortable:!0},{text:"Quantity",value:"quantity",sortable:!0},{text:"Actions",value:"actions",sortable:!0}],receiptHeaders:[{text:"Title",value:"title",sortable:!0},{text:"Price",value:"retail_price",sortable:!0},{text:"Quantity",value:"quantity",sortable:!0}],currentPage:1,perPage:12,limit:12,offset:0,filter:"",products:[],filteredProducts:[],totalProducts:0,searchText:"",quantity:1,cart:[],paymentMethod:"cash",amountPaid:0,transactionCompleted:!1,paycode:"NULL",trstatus:"pending",editablePhoneNumber:!1,PhoneNumber:"0743793901",beepsound:a("7b7c")}},components:{Receipt:l["a"]},computed:{total:function(){return this.cart.reduce((function(t,e){return t+e.retail_price*e.quantity}),0)},change:function(){return this.amountPaid-this.total},hiddenPhone:function(){var t=this.PhoneNumber.substr(0,4).replace(/./g,"x");return t+"-"+this.PhoneNumber.substr(-4)},formattedPhoneNumber:function(){return/^0/.test(this.PhoneNumber)?this.PhoneNumber.replace(/^0/,"254"):(/^254/.test(this.PhoneNumber),this.PhoneNumber)}},mounted:function(){this.updatearrays()},methods:{getFirstTwoWords:function(t){var e=t.split(" "),a=e.slice(0,3).join(" ");return a},formatProductLabel:function(t){return t.product.title},generateTrCode:function(t){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a="",i=0;i<t;i++)a+=e.charAt(Math.floor(Math.random()*e.length));return a},updatearrays:function(){var t=this;u["a"].get("pos_stock/?filter=".concat(this.filter,"&limit=").concat(this.limit,"&offset=").concat(this.offset)).then((function(e){t.products=e.data["results"],t.totalProducts=e.data["count"],t.filteredProducts=t.products})).catch((function(t){m.a.fire({position:"center",icon:"error",title:""+t,showConfirmButton:!0}).then((function(t){m.a.close(t)}))}))},applyFilter:function(){var t=this.searchText.toLowerCase();this.filter=t,this.updatearrays(),this.filteredProducts=this.products},handlePageChange:function(t){this.currentPage=t,this.limit=this.perPage,this.offset=(this.currentPage-1)*this.perPage,this.updatearrays()},addToCart:function(t){var e=t.product,a=this.quantity,i=e.retail_price;null!==t.size&&(i=t.size.retail_price),this.cart.push({sku:t.sku,product:e,quantity:a,retail_price:i})},removeFromCart:function(t){this.cart.splice(t,1)},submitsale:function(t){var e=this;u["a"].post("salesadd/",t).then((function(t){var a=e.generateTrCode(10);if(null!=a){if("mpesa"===e.paymentMethod){if(!/^(2547|2541)\d{8}$/.test(e.formattedPhoneNumber)||12!==e.formattedPhoneNumber.length)return void m.a.fire("Phone validation error!","Invalid phone number!","warning");m.a.fire({title:"Please Wait...!\nThis may take upto 1 min!",html:"Payment processing...",timer:6e4,allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){m.a.showLoading()}}),u["a"].post("stkpush/",{orderId:a,phone:e.formattedPhoneNumber,total:e.total.toFixed(2),reference:"5464747",tr_description:"Bengomall"}).then((function(t){console.log(t.data);var i=t.data["password"],n=t.data["checkoutID"],r=t.data["timestamp"];u["a"].post("payment/confirm/",{pwd:i,timestamp:r,chekoutID:n,orderId:a}).then((function(t){m.a.close(),m.a.fire({position:"center",icon:"success",title:"Success!",html:t.data.toString(),showConfirmButton:!1,timer:3e3}),t.data.toString().includes("cancel")||e.$emit("printReceipt"),e.clearValues()}))}))}e.$emit("printReceipt"),m.a.fire({position:"center",icon:t.data.icon,title:t.data.title,html:t.data.msg,showConfirmButton:!1,timer:1500}),e.clearValues()}else m.a.fire("Payment Code validation error!","Invalid payment code!","warning")})).cath((function(t){m.a.fire({position:"center",icon:"error",title:""+t,showConfirmButton:!0,timer:3e3})}))},confirmPayment:function(t){var e=new FormData;if(this.paycode=this.generateTrCode(10),this.cart.forEach((function(t){var a=t.retail_price;e.append("sku",t.sku),e.append("retail_price",a),e.append("qty",t.quantity),e.append("total",(t.quantity*t.retail_price).toFixed(2))})),"cash"==this.paymentMethod){if(!(Number(this.amountPaid)>=Number(this.total)))return void alert("Amount paid:"+this.amountPaid+" is less than Total:"+this.total.toFixed(2));this.transactionCompleted=!0,this.trstatus=t}else"mpesa"==this.paymentMethod&&(this.trstatus=t,this.$bvModal.hide("modal-mpesa"));e.append("tax_amount",.16*this.total.toFixed(2)),e.append("tax",.16),e.append("change_amount",this.change.toFixed(2)),e.append("tendered_amount",this.amountPaid),e.append("sub_total",.84*this.total.toFixed(2)),e.append("grand_total",this.total.toFixed(2)),null!=this.paycode?(e.append("paycode",this.paycode.toUpperCase()),e.append("status",this.trstatus),e.append("paymethod",this.paymentMethod),e.append("attendant",JSON.parse(sessionStorage.user).id),this.submitsale(e)):m.a.fire("Payment Code validation error!","Invalid payment code!","warning")},handleSubmit:function(){},clearValues:function(){this.transactionCompleted=!1,this.cart=[],this.amountPaid=0,this.change=0,this.paymentMethod="cash"}}},h=p,f=(a("20a6"),a("2877")),v=Object(f["a"])(h,s,c,!1,null,"6765f5ef",null),b=v.exports,g={data:function(){return{title:"POS",items:[{text:"POS"},{text:"POS",active:!0}]}},components:{poscart:b,Layout:r["a"],PageHeader:o["a"]},methods:{visitRoute:function(){this.$router.push({name:"Post"})}}},y=g,A=Object(f["a"])(y,i,n,!1,null,null,null);e["default"]=A.exports},"20a6":function(t,e,a){"use strict";a("3b77")},2579:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),a("div",{staticClass:"page-title-right"},[a("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])},n=[],r={props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},o=r,s=a("2877"),c=Object(s["a"])(o,i,n,!1,null,null,null);e["a"]=c.exports},"3b77":function(t,e,a){},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"59b6":function(t,e,a){"use strict";a("e365")},"7b7c":function(t,e,a){t.exports=a.p+"media/beep.0601a26f.mp3"},"9b35":function(t,e){t.exports="data:image/png;base64,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"},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),r=a("fc6a"),o=a("a640"),s=[].join,c=n!=Object,l=o("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(t){return s.call(r(this),void 0===t?",":t)}})},b680:function(t,e,a){"use strict";var i=a("23e7"),n=a("a691"),r=a("408a"),o=a("1148"),s=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},d=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));i({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,a,i,s,c=r(this),m=n(t),p=[0,0,0,0,0,0],h="",f="0",v=function(t,e){var a=-1,i=e;while(++a<6)i+=t*p[a],p[a]=i%1e7,i=l(i/1e7)},b=function(t){var e=6,a=0;while(--e>=0)a+=p[e],p[e]=l(a/t),a=a%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var a=String(p[t]);e=""===e?a:e+o.call("0",7-a.length)+a}return e};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){v(0,a),i=m;while(i>=7)v(1e7,0),i-=7;v(u(10,i,1),0),i=e-1;while(i>=23)b(1<<23),i-=23;b(1<<i),v(1,1),b(2),f=g()}else v(0,a),v(1<<-e,0),f=g()+o.call("0",m);return m>0?(s=f.length,f=h+(s<=m?"0."+o.call("0",m-s)+f:f.slice(0,s-m)+"."+f.slice(s-m))):f=h+f,f}})},d1b3:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container overflow-auto"},[a("v-card",{ref:"receipt",staticClass:"receipt-card",attrs:{id:"receipt"}},[a("v-card-title",{staticClass:"receipt-title"},[t._v("BengoBox Commerce")]),a("v-card-text",{staticClass:"receipt-text"},[a("p",[t._v("Receipt No: "+t._s(t.receiptNo.toUpperCase()))]),a("p",[t._v("Time: "+t._s(t.formatDate)+", "+t._s(t.formatTime))]),a("p",[t._v("------------------------------------")]),a("v-data-table",{staticClass:"hide-per-page",attrs:{headers:t.headers,items:t.items,"item-key":"id","hide-default-footer":""},scopedSlots:t._u([{key:"item.title",fn:function(e){var a=e.item;return[t._v(t._s(a.product_title))]}},{key:"item.retail_price",fn:function(e){var a=e.item;return[t._v(t._s(a.retail_price))]}},{key:"item.quantity",fn:function(e){var a=e.item;return[t._v(t._s(a.quantity))]}}],null,!0)}),a("p",[t._v("------------------------------------")]),a("v-row",[a("v-col",{staticClass:"font-weight-bold"},[t._v("Subtotal: "+t._s(t.formatCurrency(t.subtotal*t.total)))])],1),a("v-row",[a("v-col",{staticClass:"font-weight-bold"},[t._v("VAT: "+t._s(t.formatCurrency(t.tax*t.total)))])],1),a("v-row",[a("v-col",{staticClass:"font-weight-bold"},[t._v("Total: "+t._s(t.formatCurrency(t.total)))])],1),a("p",[t._v("------------------------------------")]),a("v-row",[a("v-col",{staticClass:"font-weight-bold"},[t._v("Served By:"+t._s(t.user))]),a("v-row",[a("v-col",{staticClass:"font-weight-bold"},[t._v("Payment Method: "+t._s(t.paymentMethod))])],1)],1)],1)],1)],1)},n=[],r=(a("99af"),a("b0c0"),a("a9e3"),a("b680"),{name:"Receipt",props:{items:Array,headers:Array,total:Number,paymentMethod:String,receiptNo:String},data:function(){return{subtotal:.84,tax:.16,user:JSON.parse(sessionStorage.user).name}},computed:{formatDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},formatTime:function(){var t=new Date;return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}},mounted:function(){this.$parent.$on("printReceipt",this.handlePrint)},beforeUnmount:function(){this.$parent.$off("printReceipt",this.handlePrint)},methods:{formatCurrency:function(t){return"Kshs.".concat(t.toFixed(2))},handlePrint:function(){var t=window.open("","_blank","width=800,height=600");t.document.write("<html><head><title>Receipt</title></head><body>");var e=document.getElementById("receipt").innerHTML;t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.print(),t.close()}}}),o=r,s=(a("59b6"),a("2877")),c=Object(s["a"])(o,i,n,!1,null,null,null);e["a"]=c.exports},e365:function(t,e,a){},e607:function(t,e,a){}}]);
//# sourceMappingURL=chunk-cba91712.d9d5d9c1.js.map