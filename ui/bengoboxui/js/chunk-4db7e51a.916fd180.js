(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4db7e51a","chunk-2d0b295b"],{2579:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),a("div",{staticClass:"page-title-right"},[a("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])},i=[],r={props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},n=r,o=a("2877"),l=Object(o["a"])(n,e,i,!1,null,null,null);s["a"]=l.exports},"794a":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container mb-16 pb-16"},[a("PageHeader",{attrs:{title:t.title,items:t.items}}),a("v-alert",{attrs:{value:t.showAlert,type:t.alert_type,dismissible:""},on:{"click:close":function(s){t.showAlert=!1}}},[t._v(" "+t._s(t.message)+" ")]),t.cartItems.items.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-8"},[t._l(t.cartItems.items,(function(s,e){return a("div",{key:s.product.id,staticClass:"card border shadow-none"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media border-bottom pb-3"},[a("div",{staticClass:"me-4"},[a("img",{staticClass:"avatar-lg",attrs:{src:s.product.images[0].image,alt:""}})]),a("div",{staticClass:"media-body align-self-center overflow-hidden"},[a("div",[a("h5",{staticClass:"text-truncate font-size-16"},[a("router-link",{staticClass:"text-dark",attrs:{to:{name:"Product Detail",params:{product:s.product,category:s.product.maincategory}}}},[t._v(t._s(s.product.title))])],1),null!==s.color?a("p",{staticClass:"mb-1"},[t._v(" Color : "),a("span",{staticClass:"fw-medium badge badge-pill bg-warning"},[t._v(t._s(s.color.color))])]):t._e(),a("p",[t._v(" Size : "),null!==s.size?a("span",{staticClass:"fw-medium badge badge-pill bg-warning"},[t._v(t._s(s.size.size)+" "+t._s(s.size.unit.unit_symbol))]):t._e()])])]),a("div",{staticClass:"ms-2"},[a("ul",{staticClass:"list-inline mb-0 font-size-16"},[a("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"list-inline-item",attrs:{title:"Remove"}},[a("a",{staticClass:"text-muted px-2",attrs:{href:"#"},on:{click:function(a){return t.removeItem(e,s)}}},[a("i",{staticClass:"uil uil-trash-alt text-danger"})])]),a("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"list-inline-item",attrs:{title:"Add Favourites"}},[a("a",{staticClass:"text-muted px-2",attrs:{href:"#"},on:{click:function(a){return t.addFavorites(s)}}},[a("i",{staticClass:"uil uil-heart"})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-danger uil uil-cancel",on:{click:function(s){return t.clearCart()}}},[t._v(" Clear Cart ")])])])]),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"mt-3"},[a("p",{staticClass:"text-muted mb-2"},[t._v("retail_price")]),s.size?a("span",[s.size.unit_discount_price>0?a("h5",{staticClass:"font-size-16"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(s.size.unit_discount_price))+" ")]):a("h5",{staticClass:"font-size-16"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(s.size.retail_price))+" ")])]):a("span",[s.product.discount_price>0?a("h5",{staticClass:"font-size-16"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(s.product.discount_price))+" ")]):a("h5",{staticClass:"font-size-16"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(s.product.retail_price))+" ")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"mt-3"},[a("p",{staticClass:"text-muted mb-2"},[t._v("Quantity")]),a("div",{staticClass:"row",staticStyle:{width:"120px"}},[a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-warning",on:{click:function(a){return t.decrementQuantity(s)}}},[t._v(" - ")])]),a("div",{staticClass:"col-md-3"},[a("strong",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"ml-3 mt-2 mr-2",attrs:{type:"number",disabled:""},domProps:{value:t.quantity},on:{input:function(s){s.target.composing||(t.quantity=s.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-warning d-inline",on:{click:function(a){return t.incrementQuantity(s)}}},[t._v(" + ")])])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"mt-3"},[a("p",{staticClass:"text-muted mb-2"},[t._v("Total")]),a("h5",{staticClass:"font-size-16"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(s.item_total))+" ")])])])])])])])})),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col"},[a("router-link",{staticClass:"btn btn-link text-muted",attrs:{to:"/ecommerce/products"}},[a("i",{staticClass:"uil uil-arrow-left me-1"}),t._v(" Continue Shopping ")])],1),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"text-sm-end mt-2 mt-sm-0"},[a("router-link",{staticClass:"btn btn-warning text-white",attrs:{to:{name:"Checkout",params:{cartItems:t.cartItems,orderNo:t.generateOrderId}}}},[a("i",{staticClass:"uil uil-shopping-cart-alt me-1"}),t._v(" PROCEED TO CHECKOUT ")])],1)])])],2),a("div",{staticClass:"col-xl-4"},[a("div",{staticClass:"mt-5 mt-lg-0"},[a("div",{staticClass:"card border shadow-none"},[a("div",{staticClass:"card-header bg-transparent border-bottom py-3 px-4"},[a("h5",{staticClass:"font-size-16 mb-0"},[t._v(" Order Summary "),a("span",{staticClass:"float-end"},[t._v(t._s(t.generateOrderId))])])]),a("div",{staticClass:"card-body p-4"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table mb-0"},[a("tbody",[a("tr",[a("td",[t._v("Sub Total :")]),a("td",{staticClass:"text-end"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cartItems.subtotal))+" ")])]),a("tr",[a("td",[t._v("Shipping Charge :")]),a("td",{staticClass:"text-end"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cartItems.shipping))+" ")])]),a("tr",[a("td",[t._v("VAT Tax :")]),a("td",{staticClass:"text-end"},[t._v(" KShs."+t._s((new Intl.NumberFormat).format(t.cartItems.tax))+" ")])]),a("tr",{staticClass:"bg-light"},[a("th",[t._v("Total :")]),a("td",{staticClass:"text-end"},[a("span",{staticClass:"fw-bold"},[t._v("KShs."+t._s((new Intl.NumberFormat).format(t.cartItems.total)))])])])])])])])])])])]):a("div",{staticClass:"row mb-16 pb-16"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"col-sm-6"},[a("h5",{staticClass:"text-center"},[t._v("Your cart is empty!")]),a("router-link",{staticClass:"btn btn-light text-muted",attrs:{to:{name:"Products"}}},[a("i",{staticClass:"uil uil-arrow-left me-1 text-warning float-left"}),t._v(" Continue Shopping ")])],1)])])],1)},i=[],r=(a("a4d3"),a("e01a"),a("d3b7"),a("25f0"),a("2579")),n=a("9227"),o=a("c2a4"),l={page:{title:"Cart",meta:[{name:"description",content:o.description}]},components:{PageHeader:r["a"]},data:function(){return{title:"Cart",items:[{text:"Ecommerce"},{text:"Cart",active:!0}],quantity:1,message:"Operation successful!",alert_type:"error",showAlert:!1}},computed:{generateOrderId:function(){var t=Math.floor(1e5*Math.random())+1e6;return 10!==t.toString().length&&(t=Math.floor(1e5*Math.random())+1e6),t+(new Date).getTime()},cartItems:function(){return this.$store.state.cart}},mounted:function(){console.log(this.cartItems)},methods:{decrementQuantity:function(t){var s=this;if(t.quantity>1){var a=t.quantity-1;this.quantity=a;var e=t;e.quantity=0,n["a"].post(window.$http+"cart/",e).then((function(e){s.$store.dispatch("cart/updateCart",{item:t,quantity:a}),s.message=e.data.message.toString(),s.alert_type=e.data.icon,s.showAlert=!0})).catch((function(t){s.message=t.toString(),s.alert_type="error",s.showAlert=!0}))}},incrementQuantity:function(t){var s=this,a=t.quantity+1;this.quantity=a,this.$store.dispatch("cart/updateCart",{item:t,quantity:a}),n["a"].post(window.$http+"cart/",t).then((function(t){s.message=t.data.message.toString(),s.alert_type=t.data.icon,s.showAlert=!0})).catch((function(t){s.message=t.toString(),s.alert_type="error",s.showAlert=!0}))},removeItem:function(t,s){var a=this;n["a"].delete(window.$http+"cart/delete/".concat(s.stock,"/",0,"/")).then((function(e){a.$store.dispatch("cart/removeFromCart",{index:t,item:s}),a.message=e.data.message.toString(),a.alert_type=e.data.icon,a.showAlert=!0})).catch((function(t){a.message=t.toString(),a.alert_type="error",a.showAlert=!0}))},clearCart:function(){var t=this;n["a"].delete(window.$http+"cart/clear/".concat(0,"/",JSON.parse(sessionStorage.user).id,"/")).then((function(s){t.$store.dispatch("cart/clearCart"),t.message=s.data.message.toString(),t.alert_type=s.data.icon,t.showAlert=!0})).catch((function(s){t.message=s.toString(),t.alert_type="error",t.showAlert=!0}))},addFavorites:function(t){if(sessionStorage.getItem("user")){var s=t.retail_price;t.discount_price>0&&(s=t.discount_price,t.retail_price=s);var a={product:t,item_subtotal:s,item_total:s*this.quantity};this.$store.dispatch("favorites/addProductTofavorites",a),this.message="Success!Item added to Favorites!",this.alert_type="success",this.showAlert=!0,console.log(this.$store.state.favorites)}else this.$router.push({name:"login"})}},middleware:"authentication"},c=l,d=a("2877"),m=Object(d["a"])(c,e,i,!1,null,null,null);s["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4db7e51a.916fd180.js.map